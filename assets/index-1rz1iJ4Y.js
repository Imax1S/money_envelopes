(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function b0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sf={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function H1(){if(ry)return Ol;ry=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var y in o)y!=="key"&&(h[y]=o[y])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var ly;function G1(){return ly||(ly=1,Sf.exports=H1()),Sf.exports}var U=G1(),bf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function Q1(){if(oy)return Et;oy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function ft(O,X,nt){this.props=O,this.context=X,this.refs=J,this.updater=nt||tt}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ot(){}ot.prototype=ft.prototype;function rt(O,X,nt){this.props=O,this.context=X,this.refs=J,this.updater=nt||tt}var vt=rt.prototype=new ot;vt.constructor=rt,Z(vt,ft.prototype),vt.isPureReactComponent=!0;var dt=Array.isArray;function At(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,X,nt){var at=nt.ref;return{$$typeof:r,type:O,key:X,ref:at!==void 0?at:null,props:nt}}function I(O,X){return C(O.type,X,O.props)}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function z(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return X[nt]})}var R=/\/+/g;function ee(O,X){return typeof O=="object"&&O!==null&&O.key!=null?z(""+O.key):X.toString(36)}function Re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(At,At):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Q(O,X,nt,at,yt){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Mt=!1;if(O===null)Mt=!0;else switch(Rt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(O.$$typeof){case r:case e:Mt=!0;break;case A:return Mt=O._init,Q(Mt(O._payload),X,nt,at,yt)}}if(Mt)return yt=yt(O),Mt=at===""?"."+ee(O,0):at,dt(yt)?(nt="",Mt!=null&&(nt=Mt.replace(R,"$&/")+"/"),Q(yt,X,nt,"",function(Ma){return Ma})):yt!=null&&(V(yt)&&(yt=I(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+Mt)),X.push(yt)),1;Mt=0;var we=at===""?".":at+":";if(dt(O))for(var ne=0;ne<O.length;ne++)at=O[ne],Rt=we+ee(at,ne),Mt+=Q(at,X,nt,Rt,yt);else if(ne=H(O),typeof ne=="function")for(O=ne.call(O),ne=0;!(at=O.next()).done;)at=at.value,Rt=we+ee(at,ne++),Mt+=Q(at,X,nt,Rt,yt);else if(Rt==="object"){if(typeof O.then=="function")return Q(Re(O),X,nt,at,yt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function et(O,X,nt){if(O==null)return O;var at=[],yt=0;return Q(O,at,"","",function(Rt){return X.call(nt,Rt,yt++)}),at}function ht(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:et,forEach:function(O,X,nt){et(O,function(){X.apply(this,arguments)},nt)},count:function(O){var X=0;return et(O,function(){X++}),X},toArray:function(O){return et(O,function(X){return X})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=b,Et.Children=Ht,Et.Component=ft,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=rt,Et.StrictMode=s,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,X,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=Z({},O.props),yt=O.key;if(X!=null)for(Rt in X.key!==void 0&&(yt=""+X.key),X)!S.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(at[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=nt;else if(1<Rt){for(var Mt=Array(Rt),we=0;we<Rt;we++)Mt[we]=arguments[we+2];at.children=Mt}return C(O.type,yt,at)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:h,_context:O},O},Et.createElement=function(O,X,nt){var at,yt={},Rt=null;if(X!=null)for(at in X.key!==void 0&&(Rt=""+X.key),X)S.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(yt[at]=X[at]);var Mt=arguments.length-2;if(Mt===1)yt.children=nt;else if(1<Mt){for(var we=Array(Mt),ne=0;ne<Mt;ne++)we[ne]=arguments[ne+2];yt.children=we}if(O&&O.defaultProps)for(at in Mt=O.defaultProps,Mt)yt[at]===void 0&&(yt[at]=Mt[at]);return C(O,Rt,yt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:y,render:O}},Et.isValidElement=V,Et.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},Et.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},Et.startTransition=function(O){var X=D.T,nt={};D.T=nt;try{var at=O(),yt=D.S;yt!==null&&yt(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(At,Lt)}catch(Rt){Lt(Rt)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),D.T=X}},Et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Et.use=function(O){return D.H.use(O)},Et.useActionState=function(O,X,nt){return D.H.useActionState(O,X,nt)},Et.useCallback=function(O,X){return D.H.useCallback(O,X)},Et.useContext=function(O){return D.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,X){return D.H.useDeferredValue(O,X)},Et.useEffect=function(O,X){return D.H.useEffect(O,X)},Et.useEffectEvent=function(O){return D.H.useEffectEvent(O)},Et.useId=function(){return D.H.useId()},Et.useImperativeHandle=function(O,X,nt){return D.H.useImperativeHandle(O,X,nt)},Et.useInsertionEffect=function(O,X){return D.H.useInsertionEffect(O,X)},Et.useLayoutEffect=function(O,X){return D.H.useLayoutEffect(O,X)},Et.useMemo=function(O,X){return D.H.useMemo(O,X)},Et.useOptimistic=function(O,X){return D.H.useOptimistic(O,X)},Et.useReducer=function(O,X,nt){return D.H.useReducer(O,X,nt)},Et.useRef=function(O){return D.H.useRef(O)},Et.useState=function(O){return D.H.useState(O)},Et.useSyncExternalStore=function(O,X,nt){return D.H.useSyncExternalStore(O,X,nt)},Et.useTransition=function(){return D.H.useTransition()},Et.version="19.2.0",Et}var uy;function sd(){return uy||(uy=1,bf.exports=Q1()),bf.exports}var xe=sd();const Y1=b0(xe);var Rf={exports:{}},Il={},wf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function F1(){return cy||(cy=1,(function(r){function e(Q,et){var ht=Q.length;Q.push(et);t:for(;0<ht;){var Lt=ht-1>>>1,Ht=Q[Lt];if(0<o(Ht,et))Q[Lt]=et,Q[ht]=Ht,ht=Lt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var et=Q[0],ht=Q.pop();if(ht!==et){Q[0]=ht;t:for(var Lt=0,Ht=Q.length,O=Ht>>>1;Lt<O;){var X=2*(Lt+1)-1,nt=Q[X],at=X+1,yt=Q[at];if(0>o(nt,ht))at<Ht&&0>o(yt,nt)?(Q[Lt]=yt,Q[at]=ht,Lt=at):(Q[Lt]=nt,Q[X]=ht,Lt=X);else if(at<Ht&&0>o(yt,ht))Q[Lt]=yt,Q[at]=ht,Lt=at;else break t}}return et}function o(Q,et){var ht=Q.sortIndex-et.sortIndex;return ht!==0?ht:Q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,x=3,H=!1,tt=!1,Z=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function vt(Q){for(var et=i(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=Q)s(_),et.sortIndex=et.expirationTime,e(v,et);else break;et=i(_)}}function dt(Q){if(Z=!1,vt(Q),!tt)if(i(v)!==null)tt=!0,At||(At=!0,z());else{var et=i(_);et!==null&&Re(dt,et.startTime-Q)}}var At=!1,D=-1,S=5,C=-1;function I(){return J?!0:!(r.unstable_now()-C<S)}function V(){if(J=!1,At){var Q=r.unstable_now();C=Q;var et=!0;try{t:{tt=!1,Z&&(Z=!1,ot(D),D=-1),H=!0;var ht=x;try{e:{for(vt(Q),b=i(v);b!==null&&!(b.expirationTime>Q&&I());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,x=b.priorityLevel;var Ht=Lt(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ht=="function"){b.callback=Ht,vt(Q),et=!0;break e}b===i(v)&&s(v),vt(Q)}else s(v);b=i(v)}if(b!==null)et=!0;else{var O=i(_);O!==null&&Re(dt,O.startTime-Q),et=!1}}break t}finally{b=null,x=ht,H=!1}et=void 0}}finally{et?z():At=!1}}}var z;if(typeof rt=="function")z=function(){rt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=V,z=function(){ee.postMessage(null)}}else z=function(){ft(V,0)};function Re(Q,et){D=ft(function(){Q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var et=3;break;default:et=x}var ht=x;x=et;try{return Q()}finally{x=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(Q,et){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=x;x=Q;try{return et()}finally{x=ht}},r.unstable_scheduleCallback=function(Q,et,ht){var Lt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Lt+ht:Lt):ht=Lt,Q){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,Q={id:A++,callback:et,priorityLevel:Q,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>Lt?(Q.sortIndex=ht,e(_,Q),i(v)===null&&Q===i(_)&&(Z?(ot(D),D=-1):Z=!0,Re(dt,ht-Lt))):(Q.sortIndex=Ht,e(v,Q),tt||H||(tt=!0,At||(At=!0,z()))),Q},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(Q){var et=x;return function(){var ht=x;x=et;try{return Q.apply(this,arguments)}finally{x=ht}}}})(Cf)),Cf}var hy;function X1(){return hy||(hy=1,wf.exports=F1()),wf.exports}var Df={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function K1(){if(fy)return Ye;fy=1;var r=sd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Ye.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Ye.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Ye.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Ye.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:H}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:x,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Ye.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Ye.requestFormReset=function(v){s.d.r(v)},Ye.unstable_batchedUpdates=function(v,_){return v(_)},Ye.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.0",Ye}var dy;function Z1(){if(dy)return Df.exports;dy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Df.exports=K1(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function J1(){if(my)return Il;my=1;var r=X1(),e=sd(),i=Z1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return v(c),t;if(f===l)return v(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=f;break}if(E===l){g=!0,l=c,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,l=c;break}if(E===l){g=!0,l=f,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),ot=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),vt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case ft:return"Profiler";case J:return"StrictMode";case dt:return"Suspense";case At:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tt:return"Portal";case rt:return t.displayName||"Context";case ot:return(t._context.displayName||"Context")+".Consumer";case vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ee(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ee(t(n))}catch{}}return null}var Re=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function O(t){return{current:t}}function X(t){0>Ht||(t.current=Lt[Ht],Lt[Ht]=null,Ht--)}function nt(t,n){Ht++,Lt[Ht]=t.current,t.current=n}var at=O(null),yt=O(null),Rt=O(null),Mt=O(null);function we(t,n){switch(nt(Rt,n),nt(yt,t),nt(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?xp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=xp(n),t=Np(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(at),nt(at,t)}function ne(){X(at),X(yt),X(Rt)}function Ma(t){t.memoizedState!==null&&nt(Mt,t);var n=at.current,a=Np(n,t.type);n!==a&&(nt(yt,t),nt(at,a))}function Ts(t){yt.current===t&&(X(at),X(yt)),Mt.current===t&&(X(Mt),Dl._currentValue=ht)}var As,Ss;function Qn(t){if(As===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);As=n&&n[1]||"",Ss=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+As+t+Ss}var Dr=!1;function za(t,n){if(!t||Dr)return"";Dr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var k=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){k=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){k=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),B=E.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===B.length)for(l=w.length-1,c=B.length-1;1<=l&&0<=c&&w[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==B[c]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{Dr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Qn(a):""}function xr(t,n){switch(t.tag){case 26:case 27:case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return t.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return za(t.type,!1);case 11:return za(t.type.render,!1);case 1:return za(t.type,!0);case 31:return Qn("Activity");default:return""}}function Nr(t){try{var n="",a=null;do n+=xr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,Hi=r.unstable_cancelCallback,bc=r.unstable_shouldYield,so=r.unstable_requestPaint,Ze=r.unstable_now,Ua=r.unstable_getCurrentPriorityLevel,Vr=r.unstable_ImmediatePriority,Or=r.unstable_UserBlockingPriority,Gi=r.unstable_NormalPriority,Rc=r.unstable_LowPriority,ro=r.unstable_IdlePriority,lo=r.log,oo=r.unstable_setDisableYieldValue,On=null,Le=null;function yn(t){if(typeof lo=="function"&&oo(t),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(On,t)}catch{}}var ue=Math.clz32?Math.clz32:co,uo=Math.log,bs=Math.LN2;function co(t){return t>>>=0,t===0?32:31-(uo(t)/bs|0)|0}var Yn=256,La=262144,ge=4194304;function Fn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Fn(l):(g&=E,g!==0?c=Fn(g):a||(a=E&~t,a!==0&&(c=Fn(a))))):(E=l&~f,E!==0?c=Fn(E):g!==0?c=Fn(g):a||(a=l&~t,a!==0&&(c=Fn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function In(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function wc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Kn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ja(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cc(t,n,a,l,c,f){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-ue(a),F=1<<G;E[G]=0,w[G]=-1;var k=B[G];if(k!==null)for(B[G]=null,G=0;G<k.length;G++){var q=k[G];q!==null&&(q.lane&=-536870913)}a&=~F}l!==0&&Ba(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Ba(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ue(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Ir(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-ue(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Mr(t,n){var a=n&-n;return a=(a&42)!==0?1:ka(a),(a&(t.suspendedLanes|n))!==0?0:a}function ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fo(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Wp(t.type))}function Mn(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var zn=Math.random().toString(36).slice(2),pe="__reactFiber$"+zn,Oe="__reactProps$"+zn,Zn="__reactContainer$"+zn,Rs="__reactEvents$"+zn,Dc="__reactListeners$"+zn,mo="__reactHandles$"+zn,go="__reactResources$"+zn,Jn="__reactMarker$"+zn;function ws(t){delete t[pe],delete t[Oe],delete t[Rs],delete t[Dc],delete t[mo]}function $n(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Zn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Lp(t);t!==null;){if(a=t[pe])return a;t=Lp(t)}return n}t=a,a=t.parentNode}return null}function _n(t){if(t=t[pe]||t[Zn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function on(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Wn(t){var n=t[go];return n||(n=t[go]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[Jn]=!0}var zr=new Set,Ur={};function ti(t,n){ei(t,n),ei(t+"Capture",n)}function ei(t,n){for(Ur[t]=n,t=0;t<n.length;t++)zr.add(n[t])}var Lr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jr={},Br={};function po(t){return me.call(Br,t)?!0:me.call(jr,t)?!1:Lr.test(t)?Br[t]=!0:(jr[t]=!0,!1)}function Cs(t,n,a){if(po(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function un(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _e(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function kr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Gt(t){if(!t._valueTracker){var n=Qi(t)?"checked":"value";t._valueTracker=kr(t,n,""+t[n])}}function Pa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var qa=/[\n"\\]/g;function We(t){return t.replace(qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ds(t,n,a,l,c,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ie(n)):t.value!==""+Ie(n)&&(t.value=""+Ie(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Pr(t,g,Ie(n)):a!=null?Pr(t,g,Ie(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ie(E):t.removeAttribute("name")}function yo(t,n,a,l,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(t);return}a=a!=null?""+Ie(a):"",n=n!=null?""+Ie(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),Gt(t)}function Pr(t,n,a){n==="number"&&ni(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Yi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ie(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function _o(t,n,a){if(n!=null&&(n=""+Ie(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ie(a):""}function Fi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ie(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Gt(t)}function tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var vo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||vo.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Hr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&qr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&qr(t,f,n[f])}function xs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ns(t){return Xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Gr=null;function vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,ii=null;function Ha(t){var n=_n(t);if(n&&(t=n.stateNode)){var a=t[Oe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ds(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+We(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Oe]||null;if(!c)throw Error(s(90));Ds(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Pa(l)}break t;case"textarea":_o(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Yi(t,!!a.multiple,n,!1)}}}var Vs=!1;function Zi(t,n,a){if(Vs)return t(n,a);Vs=!0;try{var l=t(n);return l}finally{if(Vs=!1,(Ki!==null||ii!==null)&&(du(),Ki&&(n=Ki,t=ii,ii=Ki=null,Ha(n),t)))for(n=0;n<t.length;n++)Ha(t[n])}}function Ln(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(En)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch{Ga=!1}var ai=null,Qr=null,Qa=null;function Yr(){if(Qa)return Qa;var t,n=Qr,a=n.length,l,c="value"in ai?ai.value:ai.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[f-l];l++);return Qa=c.slice(t,1<l?1-l:void 0)}function Ya(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function jn(){return!1}function je(t){function n(a,l,c,f,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ti:jn,this.isPropagationStopped=jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},si=je(Ai),Ji=b({},Ai,{view:0,detail:0}),Fr=je(Ji),$i,Os,ri,Is=b({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?($i=t.screenX-ri.screenX,Os=t.screenY-ri.screenY):Os=$i=0,ri=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Os}}),Xr=je(Is),Fa=b({},Is,{dataTransfer:0}),To=je(Fa),Ao=b({},Ji,{relatedTarget:0}),Xa=je(Ao),Kr=b({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),So=je(Kr),Ms=b({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bo=je(Ms),Ro=b({},Ai,{data:0}),li=je(Ro),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Co={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Do={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Do[t])?!!n[t]:!1}function Wi(){return xo}var Je=b({},Ji,{key:function(t){if(t.key){var n=wo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Co[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),No=je(Je),Vo=b({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=je(Vo),u=b({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),m=je(u),p=b({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(p),L=b({},Is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=je(L),W=b({},Ai,{newState:0,oldState:0}),St=je(W),ce=[9,13,27,32],kt=En&&"CompositionEvent"in window,ie=null;En&&"documentMode"in document&&(ie=document.documentMode);var Tn=En&&"TextEvent"in window&&!ie,oi=En&&(!kt||ie&&8<ie&&11>=ie),Bn=" ",kn=!1;function Ka(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function dv(t,n){switch(t){case"compositionend":return zs(n);case"keypress":return n.which!==32?null:(kn=!0,Bn);case"textInput":return t=n.data,t===Bn&&kn?null:t;default:return null}}function mv(t,n){if(Us)return t==="compositionend"||!kt&&Ka(t,n)?(t=Yr(),Qa=Qr=ai=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var gv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!gv[t.type]:n==="textarea"}function Pd(t,n,a,l){Ki?ii?ii.push(l):ii=[l]:Ki=l,n=Eu(n,"onChange"),0<n.length&&(a=new si("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Zr=null,Jr=null;function pv(t){Sp(t,0)}function Oo(t){var n=on(t);if(Pa(n))return t}function qd(t,n){if(t==="change")return n}var Hd=!1;if(En){var xc;if(En){var Nc="oninput"in document;if(!Nc){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),Nc=typeof Gd.oninput=="function"}xc=Nc}else xc=!1;Hd=xc&&(!document.documentMode||9<document.documentMode)}function Qd(){Zr&&(Zr.detachEvent("onpropertychange",Yd),Jr=Zr=null)}function Yd(t){if(t.propertyName==="value"&&Oo(Jr)){var n=[];Pd(n,Jr,t,vn(t)),Zi(pv,n)}}function yv(t,n,a){t==="focusin"?(Qd(),Zr=n,Jr=a,Zr.attachEvent("onpropertychange",Yd)):t==="focusout"&&Qd()}function _v(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oo(Jr)}function vv(t,n){if(t==="click")return Oo(n)}function Ev(t,n){if(t==="input"||t==="change")return Oo(n)}function Tv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var cn=typeof Object.is=="function"?Object.is:Tv;function $r(t,n){if(cn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!me.call(n,c)||!cn(t[c],n[c]))return!1}return!0}function Fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,n){var a=Fd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fd(a)}}function Kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Zd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ni(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ni(t.document)}return n}function Vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Av=En&&"documentMode"in document&&11>=document.documentMode,Ls=null,Oc=null,Wr=null,Ic=!1;function Jd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ic||Ls==null||Ls!==ni(l)||(l=Ls,"selectionStart"in l&&Vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wr&&$r(Wr,l)||(Wr=l,l=Eu(Oc,"onSelect"),0<l.length&&(n=new si("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ls)))}function Za(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var js={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},Mc={},$d={};En&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Ja(t){if(Mc[t])return Mc[t];if(!js[t])return t;var n=js[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in $d)return Mc[t]=n[a];return t}var Wd=Ja("animationend"),tm=Ja("animationiteration"),em=Ja("animationstart"),Sv=Ja("transitionrun"),bv=Ja("transitionstart"),Rv=Ja("transitioncancel"),nm=Ja("transitionend"),im=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function Pn(t,n){im.set(t,n),ti(n,[t])}var Io=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},An=[],Bs=0,Uc=0;function Mo(){for(var t=Bs,n=Uc=Bs=0;n<t;){var a=An[n];An[n++]=null;var l=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}f!==0&&am(a,c,f)}}function zo(t,n,a,l){An[Bs++]=t,An[Bs++]=n,An[Bs++]=a,An[Bs++]=l,Uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,a,l){return zo(t,n,a,l),Uo(t)}function $a(t,n){return zo(t,null,null,n),Uo(t)}function am(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ue(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Uo(t){if(50<Tl)throw Tl=0,Yh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ks={};function wv(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,n,a,l){return new wv(t,n,a,l)}function jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var a=t.alternate;return a===null?(a=hn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Lo(t,n,a,l,c,f){var g=0;if(l=t,typeof t=="function")jc(t)&&(g=1);else if(typeof t=="string")g=V1(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=hn(31,a,n,c),t.elementType=C,t.lanes=f,t;case Z:return Wa(a.children,c,f,n);case J:g=8,c|=24;break;case ft:return t=hn(12,a,n,c|2),t.elementType=ft,t.lanes=f,t;case dt:return t=hn(13,a,n,c),t.elementType=dt,t.lanes=f,t;case At:return t=hn(19,a,n,c),t.elementType=At,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rt:g=10;break t;case ot:g=9;break t;case vt:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=hn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Wa(t,n,a,l){return t=hn(7,t,l,n),t.lanes=a,t}function Bc(t,n,a){return t=hn(6,t,null,n),t.lanes=a,t}function rm(t){var n=hn(18,null,null,0);return n.stateNode=t,n}function kc(t,n,a){return n=hn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var lm=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var a=lm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Nr(n)},lm.set(t,n),n)}return{value:t,source:n,stack:Nr(n)}}var Ps=[],qs=0,jo=null,tl=0,bn=[],Rn=0,ta=null,ui=1,ci="";function Ri(t,n){Ps[qs++]=tl,Ps[qs++]=jo,jo=t,tl=n}function om(t,n,a){bn[Rn++]=ui,bn[Rn++]=ci,bn[Rn++]=ta,ta=t;var l=ui;t=ci;var c=32-ue(l)-1;l&=~(1<<c),a+=1;var f=32-ue(n)+c;if(30<f){var g=c-c%5;f=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ui=1<<32-ue(n)+c|a<<c|l,ci=f+t}else ui=1<<f|a<<c|l,ci=t}function Pc(t){t.return!==null&&(Ri(t,1),om(t,1,0))}function qc(t){for(;t===jo;)jo=Ps[--qs],Ps[qs]=null,tl=Ps[--qs],Ps[qs]=null;for(;t===ta;)ta=bn[--Rn],bn[Rn]=null,ci=bn[--Rn],bn[Rn]=null,ui=bn[--Rn],bn[Rn]=null}function um(t,n){bn[Rn++]=ui,bn[Rn++]=ci,bn[Rn++]=ta,ui=n.id,ci=n.overflow,ta=t}var Be=null,$t=null,It=!1,ea=null,wn=!1,Hc=Error(s(519));function na(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(Sn(n,t)),Hc}function cm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Oe]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Dt(Sl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),yo(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),Fi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Cp(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||na(t,!0)}function hm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Be=Be.return}}function Hs(t){if(t!==Be)return!1;if(!It)return hm(t),It=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||of(t.type,t.memoizedProps)),a=!a),a&&$t&&na(t),hm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Up(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));$t=Up(t)}else n===27?(n=$t,pa(t.type)?(t=df,df=null,$t=t):$t=n):$t=Be?Dn(t.stateNode.nextSibling):null;return!0}function ts(){$t=Be=null,It=!1}function Gc(){var t=ea;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ea=null),t}function el(t){ea===null?ea=[t]:ea.push(t)}var Qc=O(null),es=null,wi=null;function ia(t,n,a){nt(Qc,n._currentValue),n._currentValue=a}function Ci(t){t._currentValue=Qc.current,X(Qc)}function Yc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Fc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Yc(f.return,a,t),l||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Yc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Gs(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;cn(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}c=c.return}t!==null&&Fc(n,t,a,l),n.flags|=262144}function Bo(t){for(t=t.firstContext;t!==null;){if(!cn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){es=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return fm(es,t)}function ko(t,n){return es===null&&ns(t),fm(t,n)}function fm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(s(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var Cv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Dv=r.unstable_scheduleCallback,xv=r.unstable_NormalPriority,ve={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new Cv,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Dv(xv,function(){t.controller.abort()})}var il=null,Kc=0,Qs=0,Ys=null;function Nv(t,n){if(il===null){var a=il=[];Kc=0,Qs=$h(),Ys={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kc++,n.then(dm,dm),n}function dm(){if(--Kc===0&&il!==null){Ys!==null&&(Ys.status="fulfilled");var t=il;il=null,Qs=0,Ys=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Vv(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var mm=Q.S;Q.S=function(t,n){Jg=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Nv(t,n),mm!==null&&mm(t,n)};var is=O(null);function Zc(){var t=is.current;return t!==null?t:Jt.pooledCache}function Po(t,n){n===null?nt(is,is.current):nt(is,n.pool)}function gm(){var t=Zc();return t===null?null:{parent:ve._currentValue,pool:t}}var Fs=Error(s(460)),Jc=Error(s(474)),qo=Error(s(542)),Ho={then:function(){}};function pm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ym(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Un,Un),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vm(t),t;default:if(typeof n.status=="string")n.then(Un,Un);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vm(t),t}throw ss=n,Fs}}function as(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ss=a,Fs):a}}var ss=null;function _m(){if(ss===null)throw Error(s(459));var t=ss;return ss=null,t}function vm(t){if(t===Fs||t===qo)throw Error(s(483))}var Xs=null,al=0;function Go(t){var n=al;return al+=1,Xs===null&&(Xs=[]),ym(Xs,t,n)}function sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qo(t,n){throw n.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Em(t){function n(M,N){if(t){var j=M.deletions;j===null?(M.deletions=[N],M.flags|=16):j.push(N)}}function a(M,N){if(!t)return null;for(;N!==null;)n(M,N),N=N.sibling;return null}function l(M){for(var N=new Map;M!==null;)M.key!==null?N.set(M.key,M):N.set(M.index,M),M=M.sibling;return N}function c(M,N){return M=bi(M,N),M.index=0,M.sibling=null,M}function f(M,N,j){return M.index=j,t?(j=M.alternate,j!==null?(j=j.index,j<N?(M.flags|=67108866,N):j):(M.flags|=67108866,N)):(M.flags|=1048576,N)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,N,j,Y){return N===null||N.tag!==6?(N=Bc(j,M.mode,Y),N.return=M,N):(N=c(N,j),N.return=M,N)}function w(M,N,j,Y){var ct=j.type;return ct===Z?G(M,N,j.props.children,Y,j.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&as(ct)===N.type)?(N=c(N,j.props),sl(N,j),N.return=M,N):(N=Lo(j.type,j.key,j.props,null,M.mode,Y),sl(N,j),N.return=M,N)}function B(M,N,j,Y){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=kc(j,M.mode,Y),N.return=M,N):(N=c(N,j.children||[]),N.return=M,N)}function G(M,N,j,Y,ct){return N===null||N.tag!==7?(N=Wa(j,M.mode,Y,ct),N.return=M,N):(N=c(N,j),N.return=M,N)}function F(M,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bc(""+N,M.mode,j),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return j=Lo(N.type,N.key,N.props,null,M.mode,j),sl(j,N),j.return=M,j;case tt:return N=kc(N,M.mode,j),N.return=M,N;case S:return N=as(N),F(M,N,j)}if(Re(N)||z(N))return N=Wa(N,M.mode,j,null),N.return=M,N;if(typeof N.then=="function")return F(M,Go(N),j);if(N.$$typeof===rt)return F(M,ko(M,N),j);Qo(M,N)}return null}function k(M,N,j,Y){var ct=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ct!==null?null:E(M,N,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case H:return j.key===ct?w(M,N,j,Y):null;case tt:return j.key===ct?B(M,N,j,Y):null;case S:return j=as(j),k(M,N,j,Y)}if(Re(j)||z(j))return ct!==null?null:G(M,N,j,Y,null);if(typeof j.then=="function")return k(M,N,Go(j),Y);if(j.$$typeof===rt)return k(M,N,ko(M,j),Y);Qo(M,j)}return null}function q(M,N,j,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return M=M.get(j)||null,E(N,M,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case H:return M=M.get(Y.key===null?j:Y.key)||null,w(N,M,Y,ct);case tt:return M=M.get(Y.key===null?j:Y.key)||null,B(N,M,Y,ct);case S:return Y=as(Y),q(M,N,j,Y,ct)}if(Re(Y)||z(Y))return M=M.get(j)||null,G(N,M,Y,ct,null);if(typeof Y.then=="function")return q(M,N,j,Go(Y),ct);if(Y.$$typeof===rt)return q(M,N,j,ko(N,Y),ct);Qo(N,Y)}return null}function st(M,N,j,Y){for(var ct=null,jt=null,lt=N,wt=N=0,Nt=null;lt!==null&&wt<j.length;wt++){lt.index>wt?(Nt=lt,lt=null):Nt=lt.sibling;var Bt=k(M,lt,j[wt],Y);if(Bt===null){lt===null&&(lt=Nt);break}t&&lt&&Bt.alternate===null&&n(M,lt),N=f(Bt,N,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt,lt=Nt}if(wt===j.length)return a(M,lt),It&&Ri(M,wt),ct;if(lt===null){for(;wt<j.length;wt++)lt=F(M,j[wt],Y),lt!==null&&(N=f(lt,N,wt),jt===null?ct=lt:jt.sibling=lt,jt=lt);return It&&Ri(M,wt),ct}for(lt=l(lt);wt<j.length;wt++)Nt=q(lt,M,wt,j[wt],Y),Nt!==null&&(t&&Nt.alternate!==null&&lt.delete(Nt.key===null?wt:Nt.key),N=f(Nt,N,wt),jt===null?ct=Nt:jt.sibling=Nt,jt=Nt);return t&&lt.forEach(function(Ta){return n(M,Ta)}),It&&Ri(M,wt),ct}function gt(M,N,j,Y){if(j==null)throw Error(s(151));for(var ct=null,jt=null,lt=N,wt=N=0,Nt=null,Bt=j.next();lt!==null&&!Bt.done;wt++,Bt=j.next()){lt.index>wt?(Nt=lt,lt=null):Nt=lt.sibling;var Ta=k(M,lt,Bt.value,Y);if(Ta===null){lt===null&&(lt=Nt);break}t&&lt&&Ta.alternate===null&&n(M,lt),N=f(Ta,N,wt),jt===null?ct=Ta:jt.sibling=Ta,jt=Ta,lt=Nt}if(Bt.done)return a(M,lt),It&&Ri(M,wt),ct;if(lt===null){for(;!Bt.done;wt++,Bt=j.next())Bt=F(M,Bt.value,Y),Bt!==null&&(N=f(Bt,N,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return It&&Ri(M,wt),ct}for(lt=l(lt);!Bt.done;wt++,Bt=j.next())Bt=q(lt,M,wt,Bt.value,Y),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?wt:Bt.key),N=f(Bt,N,wt),jt===null?ct=Bt:jt.sibling=Bt,jt=Bt);return t&&lt.forEach(function(q1){return n(M,q1)}),It&&Ri(M,wt),ct}function Zt(M,N,j,Y){if(typeof j=="object"&&j!==null&&j.type===Z&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case H:t:{for(var ct=j.key;N!==null;){if(N.key===ct){if(ct=j.type,ct===Z){if(N.tag===7){a(M,N.sibling),Y=c(N,j.props.children),Y.return=M,M=Y;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&as(ct)===N.type){a(M,N.sibling),Y=c(N,j.props),sl(Y,j),Y.return=M,M=Y;break t}a(M,N);break}else n(M,N);N=N.sibling}j.type===Z?(Y=Wa(j.props.children,M.mode,Y,j.key),Y.return=M,M=Y):(Y=Lo(j.type,j.key,j.props,null,M.mode,Y),sl(Y,j),Y.return=M,M=Y)}return g(M);case tt:t:{for(ct=j.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){a(M,N.sibling),Y=c(N,j.children||[]),Y.return=M,M=Y;break t}else{a(M,N);break}else n(M,N);N=N.sibling}Y=kc(j,M.mode,Y),Y.return=M,M=Y}return g(M);case S:return j=as(j),Zt(M,N,j,Y)}if(Re(j))return st(M,N,j,Y);if(z(j)){if(ct=z(j),typeof ct!="function")throw Error(s(150));return j=ct.call(j),gt(M,N,j,Y)}if(typeof j.then=="function")return Zt(M,N,Go(j),Y);if(j.$$typeof===rt)return Zt(M,N,ko(M,j),Y);Qo(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(a(M,N.sibling),Y=c(N,j),Y.return=M,M=Y):(a(M,N),Y=Bc(j,M.mode,Y),Y.return=M,M=Y),g(M)):a(M,N)}return function(M,N,j,Y){try{al=0;var ct=Zt(M,N,j,Y);return Xs=null,ct}catch(lt){if(lt===Fs||lt===qo)throw lt;var jt=hn(29,lt,null,M.mode);return jt.lanes=Y,jt.return=M,jt}finally{}}}var rs=Em(!0),Tm=Em(!1),aa=!1;function $c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Pt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Uo(t),am(t,null,a),n}return zo(t,l,n,a),Uo(t)}function rl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ir(t,a)}}function th(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var eh=!1;function ll(){if(eh){var t=Ys;if(t!==null)throw t}}function ol(t,n,a,l){eh=!1;var c=t.updateQueue;aa=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var w=E,B=w.next;w.next=null,g===null?f=B:g.next=B,g=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=B:E.next=B,G.lastBaseUpdate=w))}if(f!==null){var F=c.baseState;g=0,G=B=w=null,E=f;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(xt&k)===k:(l&k)===k){k!==0&&k===Qs&&(eh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,gt=E;k=n;var Zt=a;switch(gt.tag){case 1:if(st=gt.payload,typeof st=="function"){F=st.call(Zt,F,k);break t}F=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=gt.payload,k=typeof st=="function"?st.call(Zt,F,k):st,k==null)break t;F=b({},F,k);break t;case 2:aa=!0}}k=E.callback,k!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(B=G=q,w=F):G=G.next=q,g|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(w=F),c.baseState=w,c.firstBaseUpdate=B,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ha|=g,t.lanes=g,t.memoizedState=F}}function Am(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Sm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Am(a[t],n)}var Ks=O(null),Yo=O(0);function bm(t,n){t=Ui,nt(Yo,t),nt(Ks,n),Ui=t|n.baseLanes}function nh(){nt(Yo,Ui),nt(Ks,Ks.current)}function ih(){Ui=Yo.current,X(Ks),X(Yo)}var fn=O(null),Cn=null;function la(t){var n=t.alternate;nt(he,he.current&1),nt(fn,t),Cn===null&&(n===null||Ks.current!==null||n.memoizedState!==null)&&(Cn=t)}function ah(t){nt(he,he.current),nt(fn,t),Cn===null&&(Cn=t)}function Rm(t){t.tag===22?(nt(he,he.current),nt(fn,t),Cn===null&&(Cn=t)):oa()}function oa(){nt(he,he.current),nt(fn,fn.current)}function dn(t){X(fn),Cn===t&&(Cn=null),X(he)}var he=O(0);function Fo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hf(a)||ff(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Di=0,bt=null,Xt=null,Ee=null,Xo=!1,Zs=!1,ls=!1,Ko=0,ul=0,Js=null,Ov=0;function le(){throw Error(s(321))}function sh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!cn(t[a],n[a]))return!1;return!0}function rh(t,n,a,l,c,f){return Di=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?og:Th,ls=!1,f=a(l,c),ls=!1,Zs&&(f=Cm(n,a,l,c)),wm(t),f}function wm(t){Q.H=fl;var n=Xt!==null&&Xt.next!==null;if(Di=0,Ee=Xt=bt=null,Xo=!1,ul=0,Js=null,n)throw Error(s(300));t===null||Te||(t=t.dependencies,t!==null&&Bo(t)&&(Te=!0))}function Cm(t,n,a,l){bt=t;var c=0;do{if(Zs&&(Js=null),ul=0,Zs=!1,25<=c)throw Error(s(301));if(c+=1,Ee=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=ug,f=n(a,l)}while(Zs);return f}function Iv(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?cl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(bt.flags|=1024),n}function lh(){var t=Ko!==0;return Ko=0,t}function oh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function uh(t){if(Xo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xo=!1}Di=0,Ee=Xt=bt=null,Zs=!1,ul=Ko=0,Js=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?bt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Xt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ee===null?bt.memoizedState:Ee.next;if(n!==null)Ee=n,Xt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ee===null?bt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Zo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var n=ul;return ul+=1,Js===null&&(Js=[]),t=ym(Js,t,n),n=bt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?og:Th),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===rt)return ke(t)}throw Error(s(438,String(t)))}function ch(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zo(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function xi(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=fe();return hh(n,Xt,t)}function hh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=g=null,w=null,B=n,G=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(xt&F)===F:(Di&F)===F){var k=B.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===Qs&&(G=!0);else if((Di&k)===k){B=B.next,k===Qs&&(G=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=F,g=f):w=w.next=F,bt.lanes|=k,ha|=k;F=B.action,ls&&a(f,F),f=B.hasEagerState?B.eagerState:a(f,F)}else k={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(E=w=k,g=f):w=w.next=k,bt.lanes|=F,ha|=F;B=B.next}while(B!==null&&B!==n);if(w===null?g=f:w.next=E,!cn(f,t.memoizedState)&&(Te=!0,G&&(a=Ys,a!==null)))throw a;t.memoizedState=f,t.baseState=g,t.baseQueue=w,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=fe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do f=t(f,g.action),g=g.next;while(g!==c);cn(f,n.memoizedState)||(Te=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Dm(t,n,a){var l=bt,c=fe(),f=It;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!cn((Xt||c).memoizedState,a);if(g&&(c.memoizedState=a,Te=!0),c=c.queue,gh(Vm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,$s(9,{destroy:void 0},Nm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(Di&127)!==0||xm(l,n,a)}return a}function xm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=Zo(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Nm(t,n,a,l){n.value=a,n.getSnapshot=l,Om(n)&&Im(t)}function Vm(t,n,a){return a(function(){Om(n)&&Im(t)})}function Om(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!cn(t,a)}catch{return!0}}function Im(t){var n=$a(t,2);n!==null&&rn(n,t,2)}function dh(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ls){yn(!0);try{a()}finally{yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Mm(t,n,a,l){return t.baseState=a,hh(t,Xt,typeof l=="function"?l:xi)}function Mv(t,n,a,l,c){if(eu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,zm(n,f)):(f.next=a.next,n.pending=a.next=f)}}function zm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var E=a(c,l),w=Q.S;w!==null&&w(g,E),Um(t,n,E)}catch(B){mh(t,n,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=a(c,l),Um(t,n,f)}catch(B){mh(t,n,B)}}function Um(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lm(t,n,l)},function(l){return mh(t,n,l)}):Lm(t,n,a)}function Lm(t,n,a){n.status="fulfilled",n.value=a,jm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,zm(t,a)))}function mh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,jm(n),n=n.next;while(n!==l)}t.action=null}function jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Bm(t,n){return n}function km(t,n){if(It){var a=Jt.formState;if(a!==null){t:{var l=bt;if(It){if($t){e:{for(var c=$t,f=wn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){$t=Dn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bm,lastRenderedState:n},a.queue=l,a=sg.bind(null,bt,l),l.dispatch=a,l=dh(!1),f=Eh.bind(null,bt,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=Mv.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Pm(t){var n=fe();return qm(n,Xt,t)}function qm(t,n,a){if(n=hh(t,n,Bm)[0],t=$o(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=cl(n)}catch(g){throw g===Fs?qo:g}else l=n;n=fe();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,$s(9,{destroy:void 0},zv.bind(null,c,a),null)),[l,f,t]}function zv(t,n){t.action=n}function Hm(t){var n=fe(),a=Xt;if(a!==null)return qm(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function $s(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Zo(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Gm(){return fe().memoizedState}function Wo(t,n,a,l){var c=$e();bt.flags|=t,c.memoizedState=$s(1|n,{destroy:void 0},a,l===void 0?null:l)}function tu(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Xt!==null&&l!==null&&sh(l,Xt.memoizedState.deps)?c.memoizedState=$s(n,f,a,l):(bt.flags|=t,c.memoizedState=$s(1|n,f,a,l))}function Qm(t,n){Wo(8390656,8,t,n)}function gh(t,n){tu(2048,8,t,n)}function Uv(t){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Zo(),bt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ym(t){var n=fe().memoizedState;return Uv({ref:n,nextImpl:t}),function(){if((Pt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Fm(t,n){return tu(4,2,t,n)}function Xm(t,n){return tu(4,4,t,n)}function Km(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zm(t,n,a){a=a!=null?a.concat([t]):null,tu(4,4,Km.bind(null,n,t),a)}function ph(){}function Jm(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function $m(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ls){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l}function yh(t,n,a){return a===void 0||(Di&1073741824)!==0&&(xt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Wg(),bt.lanes|=t,ha|=t,a)}function Wm(t,n,a,l){return cn(a,n)?a:Ks.current!==null?(t=yh(t,a,l),cn(t,n)||(Te=!0),t):(Di&42)===0||(Di&1073741824)!==0&&(xt&261930)===0?(Te=!0,t.memoizedState=a):(t=Wg(),bt.lanes|=t,ha|=t,n)}function tg(t,n,a,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var g=Q.T,E={};Q.T=E,Eh(t,!1,n,a);try{var w=c(),B=Q.S;if(B!==null&&B(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=Vv(w,l);hl(t,n,G,pn(t))}else hl(t,n,l,pn(t))}catch(F){hl(t,n,{then:function(){},status:"rejected",reason:F},pn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),Q.T=g}}function Lv(){}function _h(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=eg(t).queue;tg(t,c,n,ht,a===null?Lv:function(){return ng(t),a(l)})}function eg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ng(t){var n=eg(t);n.next===null&&(n=t.alternate.memoizedState),hl(t,n.next.queue,{},pn())}function vh(){return ke(Dl)}function ig(){return fe().memoizedState}function ag(){return fe().memoizedState}function jv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();t=sa(a);var l=ra(n,t,a);l!==null&&(rn(l,n,a),rl(l,n,a)),n={cache:Xc()},t.payload=n;return}n=n.return}}function Bv(t,n,a){var l=pn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},eu(t)?rg(n,a):(a=Lc(t,n,a,l),a!==null&&(rn(a,t,l),lg(a,n,l)))}function sg(t,n,a){var l=pn();hl(t,n,a,l)}function hl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(t))rg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,a);if(c.hasEagerState=!0,c.eagerState=E,cn(E,g))return zo(t,n,c,0),Jt===null&&Mo(),!1}catch{}finally{}if(a=Lc(t,n,c,l),a!==null)return rn(a,t,l),lg(a,n,l),!0}return!1}function Eh(t,n,a,l){if(l={lane:2,revertLane:$h(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(n)throw Error(s(479))}else n=Lc(t,a,l,2),n!==null&&rn(n,t,2)}function eu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function rg(t,n){Zs=Xo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function lg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ir(t,a)}}var fl={readContext:ke,use:Jo,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};fl.useEffectEvent=le;var og={readContext:ke,use:Jo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:Qm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wo(4194308,4,Km.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wo(4194308,4,t,n)},useInsertionEffect:function(t,n){Wo(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ls){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var c=a(n);if(ls){yn(!0);try{a(n)}finally{yn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Bv.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,a=sg.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ph,useDeferredValue:function(t,n){var a=$e();return yh(a,t,n)},useTransition:function(){var t=dh(!1);return t=tg.bind(null,bt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=$e();if(It){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(xt&127)!==0||xm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Qm(Vm.bind(null,l,f,t),[t]),l.flags|=2048,$s(9,{destroy:void 0},Nm.bind(null,l,f,a,n),null),a},useId:function(){var t=$e(),n=Jt.identifierPrefix;if(It){var a=ci,l=ui;a=(l&~(1<<32-ue(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ko++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Ov++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vh,useFormState:km,useActionState:km,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Eh.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return $e().memoizedState=jv.bind(null,bt)},useEffectEvent:function(t){var n=$e(),a={impl:t};return n.memoizedState=a,function(){if((Pt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Th={readContext:ke,use:Jo,useCallback:Jm,useContext:ke,useEffect:gh,useImperativeHandle:Zm,useInsertionEffect:Fm,useLayoutEffect:Xm,useMemo:$m,useReducer:$o,useRef:Gm,useState:function(){return $o(xi)},useDebugValue:ph,useDeferredValue:function(t,n){var a=fe();return Wm(a,Xt.memoizedState,t,n)},useTransition:function(){var t=$o(xi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Dm,useId:ig,useHostTransitionStatus:vh,useFormState:Pm,useActionState:Pm,useOptimistic:function(t,n){var a=fe();return Mm(a,Xt,t,n)},useMemoCache:ch,useCacheRefresh:ag};Th.useEffectEvent=Ym;var ug={readContext:ke,use:Jo,useCallback:Jm,useContext:ke,useEffect:gh,useImperativeHandle:Zm,useInsertionEffect:Fm,useLayoutEffect:Xm,useMemo:$m,useReducer:fh,useRef:Gm,useState:function(){return fh(xi)},useDebugValue:ph,useDeferredValue:function(t,n){var a=fe();return Xt===null?yh(a,t,n):Wm(a,Xt.memoizedState,t,n)},useTransition:function(){var t=fh(xi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:cl(t),n]},useSyncExternalStore:Dm,useId:ig,useHostTransitionStatus:vh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var a=fe();return Xt!==null?Mm(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ch,useCacheRefresh:ag};ug.useEffectEvent=Ym;function Ah(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pn(),c=sa(l);c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(rn(n,t,l),rl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pn(),c=sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(rn(n,t,l),rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pn(),l=sa(a);l.tag=2,n!=null&&(l.callback=n),n=ra(t,l,a),n!==null&&(rn(n,t,a),rl(n,t,a))}};function cg(t,n,a,l,c,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!$r(a,l)||!$r(c,f):!0}function hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function os(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function fg(t){Io(t)}function dg(t){console.error(t)}function mg(t){Io(t)}function nu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function gg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){nu(t,n)},a}function pg(t){return t=sa(t),t.tag=3,t}function yg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){gg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){gg(n,a,l),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function kv(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Gs(n,a,c,!0),a=fn.current,a!==null){switch(a.tag){case 31:case 13:return Cn===null?mu():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Ho?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Kh(t,l,c)),!1;case 22:return a.flags|=65536,l===Ho?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Kh(t,l,c)),!1}throw Error(s(435,a.tag))}return Kh(t,l,c),mu(),!1}if(It)return n=fn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Hc&&(t=Error(s(422),{cause:l}),el(Sn(t,a)))):(l!==Hc&&(n=Error(s(423),{cause:l}),el(Sn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Sn(l,a),c=bh(t.stateNode,l,c),th(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,a),El===null?El=[f]:El.push(f),oe!==4&&(oe=2),n===null)return!0;l=Sn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=bh(a.stateNode,l,t),th(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fa===null||!fa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=pg(c),yg(c,t,a,l),th(a,c),!1}a=a.return}while(a!==null);return!1}var Rh=Error(s(461)),Te=!1;function Pe(t,n,a,l){n.child=t===null?Tm(n,null,a,l):rs(n,t.child,a,l)}function _g(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ns(n),l=rh(t,n,a,g,f,c),E=lh(),t!==null&&!Te?(oh(t,n,c),Ni(t,n,c)):(It&&E&&Pc(n),n.flags|=1,Pe(t,n,l,c),n.child)}function vg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!jc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Eg(t,n,f,l,c)):(t=Lo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ih(t,c)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:$r,a(g,l)&&t.ref===n.ref)return Ni(t,n,c)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Eg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if($r(f,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=f,Ih(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Ni(t,n,c)}return wh(t,n,a,l,c)}function Tg(t,n,a,l){var c=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,n.child=null;return Ag(t,n,f,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Po(n,f!==null?f.cachePool:null),f!==null?bm(n,f):nh(),Rm(n);else return l=n.lanes=536870912,Ag(t,n,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Po(n,f.cachePool),bm(n,f),oa(),n.memoizedState=null):(t!==null&&Po(n,null),nh(),oa());return Pe(t,n,c,a),n.child}function dl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ag(t,n,a,l,c){var f=Zc();return f=f===null?null:{parent:ve._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Po(n,null),nh(),Rm(n),t!==null&&Gs(t,n,l,!0),n.childLanes=c,null}function iu(t,n){return n=su({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Sg(t,n,a){return rs(n,t.child,null,a),t=iu(n,n.pendingProps),t.flags|=2,dn(n),n.memoizedState=null,t}function Pv(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(It){if(l.mode==="hidden")return t=iu(n,l),n.lanes=536870912,dl(null,t);if(ah(n),(t=$t)?(t=zp(t,wn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},a=rm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw na(n);return n.lanes=536870912,null}return iu(n,l)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ah(n),c)if(n.flags&256)n.flags&=-257,n=Sg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Te||Gs(t,n,a,!1),c=(a&t.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=Mr(l,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,$a(t,g),rn(l,t,g),Rh;mu(),n=Sg(t,n,a)}else t=f.treeContext,$t=Dn(g.nextSibling),Be=n,It=!0,ea=null,wn=!1,t!==null&&um(n,t),n=iu(n,l),n.flags|=4096;return n}return t=bi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function au(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function wh(t,n,a,l,c){return ns(n),a=rh(t,n,a,l,void 0,c),l=lh(),t!==null&&!Te?(oh(t,n,c),Ni(t,n,c)):(It&&l&&Pc(n),n.flags|=1,Pe(t,n,a,c),n.child)}function bg(t,n,a,l,c,f){return ns(n),n.updateQueue=null,a=Cm(n,l,a,c),wm(t),l=lh(),t!==null&&!Te?(oh(t,n,f),Ni(t,n,f)):(It&&l&&Pc(n),n.flags|=1,Pe(t,n,a,f),n.child)}function Rg(t,n,a,l,c){if(ns(n),n.stateNode===null){var f=ks,g=a.contextType;typeof g=="object"&&g!==null&&(f=ke(g)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},$c(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?ke(g):ks,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ah(n,a,g,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Sh.enqueueReplaceState(f,f.state,null),ol(n,l,f,c),ll(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=os(a,E);f.props=w;var B=f.context,G=a.contextType;g=ks,typeof G=="object"&&G!==null&&(g=ke(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==g)&&hg(n,f,l,g),aa=!1;var k=n.memoizedState;f.state=k,ol(n,l,f,c),ll(),B=n.memoizedState,E||k!==B||aa?(typeof F=="function"&&(Ah(n,a,F,l),B=n.memoizedState),(w=aa||cg(n,a,w,l,k,B,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=g,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Wc(t,n),g=n.memoizedProps,G=os(a,g),f.props=G,F=n.pendingProps,k=f.context,B=a.contextType,w=ks,typeof B=="object"&&B!==null&&(w=ke(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||k!==w)&&hg(n,f,l,w),aa=!1,k=n.memoizedState,f.state=k,ol(n,l,f,c),ll();var q=n.memoizedState;g!==F||k!==q||aa||t!==null&&t.dependencies!==null&&Bo(t.dependencies)?(typeof E=="function"&&(Ah(n,a,E,l),q=n.memoizedState),(G=aa||cg(n,a,G,l,k,q,w)||t!==null&&t.dependencies!==null&&Bo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,au(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=rs(n,t.child,null,c),n.child=rs(n,null,a,c)):Pe(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ni(t,n,c),t}function wg(t,n,a,l){return ts(),n.flags|=256,Pe(t,n,a,l),n.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:gm()}}function xh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=gn),t}function Cg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(It){if(c?la(n):oa(),(t=$t)?(t=zp(t,wn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ui,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},a=rm(t),a.return=n,n.child=a,Be=n,$t=null)):t=null,t===null)throw na(n);return ff(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(oa(),c=n.mode,E=su({mode:"hidden",children:E},c),l=Wa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Dh(a),l.childLanes=xh(t,g,a),n.memoizedState=Ch,dl(null,l)):(la(n),Nh(n,E))}var w=t.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(la(n),n.flags&=-257,n=Vh(t,n,a)):n.memoizedState!==null?(oa(),n.child=t.child,n.flags|=128,n=null):(oa(),E=l.fallback,c=n.mode,l=su({mode:"visible",children:l.children},c),E=Wa(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,rs(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=xh(t,g,a),n.memoizedState=Ch,n=dl(null,l));else if(la(n),ff(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,el({value:l,source:null,stack:null}),n=Vh(t,n,a)}else if(Te||Gs(t,n,a,!1),g=(a&t.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=Mr(g,a),l!==0&&l!==w.retryLane))throw w.retryLane=l,$a(t,l),rn(g,t,l),Rh;hf(E)||mu(),n=Vh(t,n,a)}else hf(E)?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,$t=Dn(E.nextSibling),Be=n,It=!0,ea=null,wn=!1,t!==null&&um(n,t),n=Nh(n,l.children),n.flags|=4096);return n}return c?(oa(),E=l.fallback,c=n.mode,w=t.child,B=w.sibling,l=bi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?E=bi(B,E):(E=Wa(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,dl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Dh(a):(c=E.cachePool,c!==null?(w=ve._currentValue,c=c.parent!==w?{parent:w,pool:w}:c):c=gm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=xh(t,g,a),n.memoizedState=Ch,dl(t.child,l)):(la(n),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Nh(t,n){return n=su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function su(t,n){return t=hn(22,t,null,n),t.lanes=0,t}function Vh(t,n,a){return rs(n,t.child,null,a),t=Nh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yc(t.return,n,a)}function Oh(t,n,a,l,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=f)}function xg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(he,g),Pe(t,n,l,a),l=It?tl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,a,n);else if(t.tag===19)Dg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Fo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Oh(n,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Fo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Oh(n,!0,a,null,f,l);break;case"together":Oh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ha|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Gs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Ih(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bo(t)))}function qv(t,n,a){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),ia(n,ve,t.memoizedState.cache),ts();break;case 27:case 5:Ma(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ah(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Cg(t,n,a):(la(n),t=Ni(t,n,a),t!==null?t.sibling:null);la(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Gs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return xg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),nt(he,he.current),l)break;return null;case 22:return n.lanes=0,Tg(t,n,a,n.pendingProps);case 24:ia(n,ve,t.memoizedState.cache)}return Ni(t,n,a)}function Ng(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!Ih(t,a)&&(n.flags&128)===0)return Te=!1,qv(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,It&&(n.flags&1048576)!==0&&om(n,tl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=as(n.elementType),n.type=t,typeof t=="function")jc(t)?(l=os(t,l),n.tag=1,n=Rg(null,n,t,l,a)):(n.tag=0,n=wh(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===vt){n.tag=11,n=_g(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=vg(null,n,t,l,a);break t}}throw n=ee(t)||t,Error(s(306,n,""))}}return n;case 0:return wh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=os(l,n.pendingProps),Rg(t,n,l,c,a);case 3:t:{if(we(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Wc(t,n),ol(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ia(n,ve,l),l!==f.cache&&Fc(n,[ve],a,!0),ll(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=wg(t,n,l,a);break t}else if(l!==c){c=Sn(Error(s(424)),n),el(c),n=wg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for($t=Dn(t.firstChild),Be=n,It=!0,ea=null,wn=!0,a=Tm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ts(),l===c){n=Ni(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return au(t,n),t===null?(a=Pp(n.type,null,n.pendingProps,null))?n.memoizedState=a:It||(a=n.type,t=n.pendingProps,l=Tu(Rt.current).createElement(a),l[pe]=n,l[Oe]=t,qe(l,a,t),ye(l),n.stateNode=l):n.memoizedState=Pp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ma(n),t===null&&It&&(l=n.stateNode=jp(n.type,n.pendingProps,Rt.current),Be=n,wn=!0,c=$t,pa(n.type)?(df=c,$t=Dn(l.firstChild)):$t=c),Pe(t,n,n.pendingProps.children,a),au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&It&&((c=l=$t)&&(l=_1(l,n.type,n.pendingProps,wn),l!==null?(n.stateNode=l,Be=n,$t=Dn(l.firstChild),wn=!1,c=!0):c=!1),c||na(n)),Ma(n),c=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,l=f.children,of(c,f)?l=null:g!==null&&of(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=rh(t,n,Iv,null,null,a),Dl._currentValue=c),au(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&It&&((t=a=$t)&&(a=v1(a,n.pendingProps,wn),a!==null?(n.stateNode=a,Be=n,$t=null,t=!0):t=!1),t||na(n)),null;case 13:return Cg(t,n,a);case 4:return we(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rs(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return _g(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ia(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ns(n),c=ke(c),l=l(c),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return vg(t,n,n.type,n.pendingProps,a);case 15:return Eg(t,n,n.type,n.pendingProps,a);case 19:return xg(t,n,a);case 31:return Pv(t,n,a);case 22:return Tg(t,n,a,n.pendingProps);case 24:return ns(n),l=ke(ve),t===null?(c=Zc(),c===null&&(c=Jt,f=Xc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},$c(n),ia(n,ve,c)):((t.lanes&a)!==0&&(Wc(t,n),ol(n,null,null,a),ll()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ia(n,ve,l)):(l=f.cache,ia(n,ve,l),l!==c.cache&&Fc(n,[ve],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Vi(t){t.flags|=4}function Mh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(ip())t.flags|=8192;else throw ss=Ho,Jc}else t.flags&=-16777217}function Vg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yp(n))if(ip())t.flags|=8192;else throw ss=Ho,Jc}function ru(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ho():536870912,t.lanes|=n,nr|=n)}function ml(t,n){if(!It)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Hv(t,n,a){var l=n.pendingProps;switch(qc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(ve),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Hs(n)?Vi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gc())),Wt(n),null;case 26:var c=n.type,f=n.memoizedState;return t===null?(Vi(n),f!==null?(Wt(n),Vg(n,f)):(Wt(n),Mh(n,c,null,l,a))):f?f!==t.memoizedState?(Vi(n),Wt(n),Vg(n,f)):(Wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Vi(n),Wt(n),Mh(n,c,t,l,a)),null;case 27:if(Ts(n),a=Rt.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}t=at.current,Hs(n)?cm(n):(t=jp(c,l,a),n.stateNode=t,Vi(n))}return Wt(n),null;case 5:if(Ts(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Wt(n),null}if(f=at.current,Hs(n))cm(n);else{var g=Tu(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}f[pe]=n,f[Oe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Vi(n)}}return Wt(n),Mh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Vi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Rt.current,Hs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cp(t.nodeValue,a)),t||na(n,!0)}else t=Tu(t).createTextNode(l),t[pe]=n,n.stateNode=t}return Wt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Hs(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pe]=n}else ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),t=!1}else a=Gc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(dn(n),n):(dn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return Wt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Hs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),c=!1}else c=Gc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(dn(n),n):(dn(n),null)}return dn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ru(n,n.updateQueue),Wt(n),null);case 4:return ne(),t===null&&nf(n.stateNode.containerInfo),Wt(n),null;case 10:return Ci(n.type),Wt(n),null;case 19:if(X(he),l=n.memoizedState,l===null)return Wt(n),null;if(c=(n.flags&128)!==0,f=l.rendering,f===null)if(c)ml(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Fo(t),f!==null){for(n.flags|=128,ml(l,!1),t=f.updateQueue,n.updateQueue=t,ru(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)sm(a,t),a=a.sibling;return nt(he,he.current&1|2),It&&Ri(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ze()>hu&&(n.flags|=128,c=!0,ml(l,!1),n.lanes=4194304)}else{if(!c)if(t=Fo(f),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,ru(n,t),ml(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!It)return Wt(n),null}else 2*Ze()-l.renderingStartTime>hu&&a!==536870912&&(n.flags|=128,c=!0,ml(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ze(),t.sibling=null,a=he.current,nt(he,c?a&1|2:a&1),It&&Ri(n,l.treeForkCount),t):(Wt(n),null);case 22:case 23:return dn(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),a=n.updateQueue,a!==null&&ru(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&X(is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ci(ve),Wt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function Gv(t,n){switch(qc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(ve),ne(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ts(n),null;case 31:if(n.memoizedState!==null){if(dn(n),n.alternate===null)throw Error(s(340));ts()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ts()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(he),null;case 4:return ne(),null;case 10:return Ci(n.type),null;case 22:case 23:return dn(n),ih(),t!==null&&X(is),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(ve),null;case 25:return null;default:return null}}function Og(t,n){switch(qc(n),n.tag){case 3:Ci(ve),ne();break;case 26:case 27:case 5:Ts(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&dn(n);break;case 13:dn(n);break;case 19:X(he);break;case 10:Ci(n.type);break;case 22:case 23:dn(n),ih(),t!==null&&X(is);break;case 24:Ci(ve)}}function gl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,g=a.inst;l=f(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function ua(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var w=a,B=E;try{B()}catch(G){Yt(c,w,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function Ig(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Sm(n,a)}catch(l){Yt(t,t.return,l)}}}function Mg(t,n,a){a.props=os(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function pl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Yt(t,n,c)}}function hi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function zg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function zh(t,n,a){try{var l=t.stateNode;f1(l,t.type,a,n),l[Oe]=n}catch(c){Yt(t,t.return,c)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pa(t.type)||t.tag===4}function Uh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Un));else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Lh(t,n,a),t=t.sibling;t!==null;)Lh(t,n,a),t=t.sibling}function lu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(lu(t,n,a),t=t.sibling;t!==null;)lu(t,n,a),t=t.sibling}function Lg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,l,a),n[pe]=t,n[Oe]=a}catch(f){Yt(t,t.return,f)}}var Oi=!1,Ae=!1,jh=!1,jg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Qv(t,n){if(t=t.containerInfo,rf=Du,t=Zd(t),Vc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,w=-1,B=0,G=0,F=t,k=null;e:for(;;){for(var q;F!==a||c!==0&&F.nodeType!==3||(E=g+c),F!==f||l!==0&&F.nodeType!==3||(w=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)k=F,F=q;for(;;){if(F===t)break e;if(k===a&&++B===c&&(E=g),k===f&&++G===l&&(w=g),(q=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=q}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(lf={focusedElem:t,selectionRange:a},Du=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var st=os(a.type,c);t=l.getSnapshotBeforeUpdate(st,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Yt(a,a.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function Bg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(t,a),l&4&&gl(5,a);break;case 1:if(Mi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Yt(a,a.return,g)}else{var c=os(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(a,a.return,g)}}l&64&&Ig(a),l&512&&pl(a,a.return);break;case 3:if(Mi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Sm(t,n)}catch(g){Yt(a,a.return,g)}}break;case 27:n===null&&l&4&&Lg(a);case 26:case 5:Mi(t,a),n===null&&l&4&&zg(a),l&512&&pl(a,a.return);break;case 12:Mi(t,a);break;case 31:Mi(t,a),l&4&&qg(t,a);break;case 13:Mi(t,a),l&4&&Hg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=t1.bind(null,a),E1(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Oi;var f=Ae;Oi=l,(Ae=n)&&!f?zi(t,a,(a.subtreeFlags&8772)!==0):Mi(t,a),Oi=c,Ae=f}break;case 30:break;default:Mi(t,a)}}function kg(t){var n=t.alternate;n!==null&&(t.alternate=null,kg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ws(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ae=null,en=!1;function Ii(t,n,a){for(a=a.child;a!==null;)Pg(t,n,a),a=a.sibling}function Pg(t,n,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||hi(a,n),Ii(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||hi(a,n);var l=ae,c=en;pa(a.type)&&(ae=a.stateNode,en=!1),Ii(t,n,a),Rl(a.stateNode),ae=l,en=c;break;case 5:Ae||hi(a,n);case 6:if(l=ae,c=en,ae=null,Ii(t,n,a),ae=l,en=c,ae!==null)if(en)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Yt(a,n,f)}else try{ae.removeChild(a.stateNode)}catch(f){Yt(a,n,f)}break;case 18:ae!==null&&(en?(t=ae,Ip(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),cr(t)):Ip(ae,a.stateNode));break;case 4:l=ae,c=en,ae=a.stateNode.containerInfo,en=!0,Ii(t,n,a),ae=l,en=c;break;case 0:case 11:case 14:case 15:ua(2,a,n),Ae||ua(4,a,n),Ii(t,n,a);break;case 1:Ae||(hi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Mg(a,n,l)),Ii(t,n,a);break;case 21:Ii(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Ii(t,n,a),Ae=l;break;default:Ii(t,n,a)}}function qg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{cr(t)}catch(a){Yt(n,n.return,a)}}}function Hg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{cr(t)}catch(a){Yt(n,n.return,a)}}function Yv(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(s(435,t.tag))}}function ou(t,n){var a=Yv(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=e1.bind(null,t,l);l.then(c,c)}})}function nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(pa(E.type)){ae=E.stateNode,en=!1;break t}break;case 5:ae=E.stateNode,en=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ae===null)throw Error(s(160));Pg(f,g,c),ae=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gg(n,t),n=n.sibling}var qn=null;function Gg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nn(n,t),an(t),l&4&&(ua(3,t,t.return),gl(3,t),ua(5,t,t.return));break;case 1:nn(n,t),an(t),l&512&&(Ae||a===null||hi(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=qn;if(nn(n,t),an(t),l&512&&(Ae||a===null||hi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Jn]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,l,a),f[pe]=t,ye(f),l=f;break t;case"link":var g=Gp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,a),c.head.appendChild(f);break;case"meta":if(g=Gp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=c.createElement(l),qe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[pe]=t,ye(f),l=f}t.stateNode=l}else Qp(c,t.type,t.stateNode);else t.stateNode=Hp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Qp(c,t.type,t.stateNode):Hp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,a.memoizedProps)}break;case 27:nn(n,t),an(t),l&512&&(Ae||a===null||hi(a,a.return)),a!==null&&l&4&&zh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(nn(n,t),an(t),l&512&&(Ae||a===null||hi(a,a.return)),t.flags&32){c=t.stateNode;try{tn(c,"")}catch(st){Yt(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(jh=!0);break;case 6:if(nn(n,t),an(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(st){Yt(t,t.return,st)}}break;case 3:if(bu=null,c=qn,qn=Au(n.containerInfo),nn(n,t),qn=c,an(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{cr(n.containerInfo)}catch(st){Yt(t,t.return,st)}jh&&(jh=!1,Qg(t));break;case 4:l=qn,qn=Au(t.stateNode.containerInfo),nn(n,t),an(t),qn=l;break;case 12:nn(n,t),an(t);break;case 31:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ou(t,l)));break;case 13:nn(n,t),an(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cu=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ou(t,l)));break;case 22:c=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=Oi,G=Ae;if(Oi=B||c,Ae=G||w,nn(n,t),Ae=G,Oi=B,an(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||w||Oi||Ae||us(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(st){Yt(w,w.return,st)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(st){Yt(w,w.return,st)}}}else if(n.tag===18){if(a===null){w=n;try{var q=w.stateNode;c?Mp(q,!0):Mp(w.stateNode,!1)}catch(st){Yt(w,w.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ou(t,a))));break;case 19:nn(n,t),an(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ou(t,l)));break;case 30:break;case 21:break;default:nn(n,t),an(t)}}function an(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Ug(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=Uh(t);lu(t,f,c);break;case 5:var g=a.stateNode;a.flags&32&&(tn(g,""),a.flags&=-33);var E=Uh(t);lu(t,E,g);break;case 3:case 4:var w=a.stateNode.containerInfo,B=Uh(t);Lh(t,B,w);break;default:throw Error(s(161))}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Qg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Qg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Mi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Bg(t,n.alternate,n),n=n.sibling}function us(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ua(4,n,n.return),us(n);break;case 1:hi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Mg(n,n.return,a),us(n);break;case 27:Rl(n.stateNode);case 26:case 5:hi(n,n.return),us(n);break;case 22:n.memoizedState===null&&us(n);break;case 30:us(n);break;default:us(n)}t=t.sibling}}function zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:zi(c,f,a),gl(4,f);break;case 1:if(zi(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Yt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Am(w[c],E)}catch(B){Yt(l,l.return,B)}}a&&g&64&&Ig(f),pl(f,f.return);break;case 27:Lg(f);case 26:case 5:zi(c,f,a),a&&l===null&&g&4&&zg(f),pl(f,f.return);break;case 12:zi(c,f,a);break;case 31:zi(c,f,a),a&&g&4&&qg(c,f);break;case 13:zi(c,f,a),a&&g&4&&Hg(c,f);break;case 22:f.memoizedState===null&&zi(c,f,a),pl(f,f.return);break;case 30:break;default:zi(c,f,a)}n=n.sibling}}function Bh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function kh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function Hn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(t,n,a,l),n=n.sibling}function Yg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Hn(t,n,a,l),c&2048&&gl(9,n);break;case 1:Hn(t,n,a,l);break;case 3:Hn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){Hn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Hn(t,n,a,l);break;case 31:Hn(t,n,a,l);break;case 13:Hn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Hn(t,n,a,l):yl(t,n):f._visibility&2?Hn(t,n,a,l):(f._visibility|=2,Ws(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Bh(g,n);break;case 24:Hn(t,n,a,l),c&2048&&kh(n.alternate,n);break;default:Hn(t,n,a,l)}}function Ws(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=a,w=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:Ws(f,g,E,w,c),gl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ws(f,g,E,w,c):yl(f,g):(G._visibility|=2,Ws(f,g,E,w,c)),c&&B&2048&&Bh(g.alternate,g);break;case 24:Ws(f,g,E,w,c),c&&B&2048&&kh(g.alternate,g);break;default:Ws(f,g,E,w,c)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:yl(a,l),c&2048&&Bh(l.alternate,l);break;case 24:yl(a,l),c&2048&&kh(l.alternate,l);break;default:yl(a,l)}n=n.sibling}}var _l=8192;function tr(t,n,a){if(t.subtreeFlags&_l)for(t=t.child;t!==null;)Fg(t,n,a),t=t.sibling}function Fg(t,n,a){switch(t.tag){case 26:tr(t,n,a),t.flags&_l&&t.memoizedState!==null&&O1(a,qn,t.memoizedState,t.memoizedProps);break;case 5:tr(t,n,a);break;case 3:case 4:var l=qn;qn=Au(t.stateNode.containerInfo),tr(t,n,a),qn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_l,_l=16777216,tr(t,n,a),_l=l):tr(t,n,a));break;default:tr(t,n,a)}}function Xg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function vl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,Zg(l,t)}Xg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kg(t),t=t.sibling}function Kg(t){switch(t.tag){case 0:case 11:case 15:vl(t),t.flags&2048&&ua(9,t,t.return);break;case 3:vl(t);break;case 12:vl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,uu(t)):vl(t);break;default:vl(t)}}function uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,Zg(l,t)}Xg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ua(8,n,n.return),uu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,uu(n));break;default:uu(n)}t=t.sibling}}function Zg(t,n){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:ua(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=t;Me!==null;){l=Me;var c=l.sibling,f=l.return;if(kg(l),l===a){Me=null;break t}if(c!==null){c.return=f,Me=c;break t}Me=f}}}var Fv={getCacheForType:function(t){var n=ke(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return ke(ve).controller.signal}},Xv=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Jt=null,Ct=null,xt=0,Qt=0,mn=null,ca=!1,er=!1,Ph=!1,Ui=0,oe=0,ha=0,cs=0,qh=0,gn=0,nr=0,El=null,sn=null,Hh=!1,cu=0,Jg=0,hu=1/0,fu=null,fa=null,De=0,da=null,ir=null,Li=0,Gh=0,Qh=null,$g=null,Tl=0,Yh=null;function pn(){return(Pt&2)!==0&&xt!==0?xt&-xt:Q.T!==null?$h():fo()}function Wg(){if(gn===0)if((xt&536870912)===0||It){var t=La;La<<=1,(La&3932160)===0&&(La=262144),gn=t}else gn=536870912;return t=fn.current,t!==null&&(t.flags|=32),gn}function rn(t,n,a){(t===Jt&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)&&(ar(t,0),ma(t,xt,gn,!1)),ja(t,a),((Pt&2)===0||t!==Jt)&&(t===Jt&&((Pt&2)===0&&(cs|=a),oe===4&&ma(t,xt,gn,!1)),fi(t))}function tp(t,n,a){if((Pt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||In(t,n),c=l?Jv(t,n):Xh(t,n,!0),f=l;do{if(c===0){er&&!l&&ma(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!Kv(a)){c=Xh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=El;var w=E.current.memoizedState.isDehydrated;if(w&&(ar(E,g).flags|=256),g=Xh(E,g,!1),g!==2){if(Ph&&!w){E.errorRecoveryDisabledLanes|=f,cs|=f,c=4;break t}f=sn,sn=c,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ar(t,0),ma(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ma(l,n,gn,!ca);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=cu+300-Ze(),10<c)){if(ma(l,n,gn,!ca),Xn(l,0,!0)!==0)break t;Li=n,l.timeoutHandle=Vp(ep.bind(null,l,a,sn,fu,Hh,n,gn,cs,nr,ca,f,"Throttled",-0,0),c);break t}ep(l,a,sn,fu,Hh,n,gn,cs,nr,ca,f,null,-0,0)}}break}while(!0);fi(t)}function ep(t,n,a,l,c,f,g,E,w,B,G,F,k,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Fg(n,f,F);var st=(f&62914560)===f?cu-Ze():(f&4194048)===f?Jg-Ze():0;if(st=I1(F,st),st!==null){Li=f,t.cancelPendingCommit=st(up.bind(null,t,n,f,a,l,c,g,E,w,G,F,null,k,q)),ma(t,f,g,!B);return}}up(t,n,f,a,l,c,g,E,w)}function Kv(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!cn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(t,n,a,l){n&=~qh,n&=~cs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ue(c),g=1<<f;l[f]=-1,c&=~g}a!==0&&Ba(t,a,n)}function du(){return(Pt&6)===0?(Al(0),!1):!0}function Fh(){if(Ct!==null){if(Qt===0)var t=Ct.return;else t=Ct,wi=es=null,uh(t),Xs=null,al=0,t=Ct;for(;t!==null;)Og(t.alternate,t),t=t.return;Ct=null}}function ar(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,g1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Li=0,Fh(),Jt=t,Ct=a=bi(t.current,null),xt=n,Qt=0,mn=null,ca=!1,er=In(t,n),Ph=!1,nr=gn=qh=cs=ha=oe=0,sn=El=null,Hh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ue(l),f=1<<c;n|=t[c],l&=~f}return Ui=n,Mo(),a}function np(t,n){bt=null,Q.H=fl,n===Fs||n===qo?(n=_m(),Qt=3):n===Jc?(n=_m(),Qt=4):Qt=n===Rh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,Ct===null&&(oe=1,nu(t,Sn(n,t.current)))}function ip(){var t=fn.current;return t===null?!0:(xt&4194048)===xt?Cn===null:(xt&62914560)===xt||(xt&536870912)!==0?t===Cn:!1}function ap(){var t=Q.H;return Q.H=fl,t===null?fl:t}function sp(){var t=Q.A;return Q.A=Fv,t}function mu(){oe=4,ca||(xt&4194048)!==xt&&fn.current!==null||(er=!0),(ha&134217727)===0&&(cs&134217727)===0||Jt===null||ma(Jt,xt,gn,!1)}function Xh(t,n,a){var l=Pt;Pt|=2;var c=ap(),f=sp();(Jt!==t||xt!==n)&&(fu=null,ar(t,n)),n=!1;var g=oe;t:do try{if(Qt!==0&&Ct!==null){var E=Ct,w=mn;switch(Qt){case 8:Fh(),g=6;break t;case 3:case 2:case 9:case 6:fn.current===null&&(n=!0);var B=Qt;if(Qt=0,mn=null,sr(t,E,w,B),a&&er){g=0;break t}break;default:B=Qt,Qt=0,mn=null,sr(t,E,w,B)}}Zv(),g=oe;break}catch(G){np(t,G)}while(!0);return n&&t.shellSuspendCounter++,wi=es=null,Pt=l,Q.H=c,Q.A=f,Ct===null&&(Jt=null,xt=0,Mo()),g}function Zv(){for(;Ct!==null;)rp(Ct)}function Jv(t,n){var a=Pt;Pt|=2;var l=ap(),c=sp();Jt!==t||xt!==n?(fu=null,hu=Ze()+500,ar(t,n)):er=In(t,n);t:do try{if(Qt!==0&&Ct!==null){n=Ct;var f=mn;e:switch(Qt){case 1:Qt=0,mn=null,sr(t,n,f,1);break;case 2:case 9:if(pm(f)){Qt=0,mn=null,lp(n);break}n=function(){Qt!==2&&Qt!==9||Jt!==t||(Qt=7),fi(t)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:pm(f)?(Qt=0,mn=null,lp(n)):(Qt=0,mn=null,sr(t,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?Yp(g):E.stateNode.complete){Qt=0,mn=null;var w=E.sibling;if(w!==null)Ct=w;else{var B=E.return;B!==null?(Ct=B,gu(B)):Ct=null}break e}}Qt=0,mn=null,sr(t,n,f,5);break;case 6:Qt=0,mn=null,sr(t,n,f,6);break;case 8:Fh(),oe=6;break t;default:throw Error(s(462))}}$v();break}catch(G){np(t,G)}while(!0);return wi=es=null,Q.H=l,Q.A=c,Pt=a,Ct!==null?0:(Jt=null,xt=0,Mo(),oe)}function $v(){for(;Ct!==null&&!bc();)rp(Ct)}function rp(t){var n=Ng(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?gu(t):Ct=n}function lp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=bg(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=bg(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:uh(n);default:Og(a,n),n=Ct=sm(n,Ui),n=Ng(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?gu(t):Ct=n}function sr(t,n,a,l){wi=es=null,uh(n),Xs=null,al=0;var c=n.return;try{if(kv(t,c,n,a,xt)){oe=1,nu(t,Sn(a,t.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;oe=1,nu(t,Sn(a,t.current)),Ct=null;return}n.flags&32768?(It||l===1?t=!0:er||(xt&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),op(n,t)):gu(n)}function gu(t){var n=t;do{if((n.flags&32768)!==0){op(n,ca);return}t=n.return;var a=Hv(n.alternate,n,Ui);if(a!==null){Ct=a;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=t}while(n!==null);oe===0&&(oe=5)}function op(t,n){do{var a=Gv(t.alternate,t);if(a!==null){a.flags&=32767,Ct=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ct=t;return}Ct=t=a}while(t!==null);oe=6,Ct=null}function up(t,n,a,l,c,f,g,E,w){t.cancelPendingCommit=null;do pu();while(De!==0);if((Pt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Uc,Cc(t,a,f,g,E,w),t===Jt&&(Ct=Jt=null,xt=0),ir=n,da=t,Li=a,Gh=f,Qh=c,$g=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,n1(Gi,function(){return mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=et.p,et.p=2,g=Pt,Pt|=4;try{Qv(t,n,a)}finally{Pt=g,et.p=c,Q.T=l}}De=1,cp(),hp(),fp()}}function cp(){if(De===1){De=0;var t=da,n=ir,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Gg(n,t);var f=lf,g=Zd(t.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Kd(E.ownerDocument.documentElement,E)){if(w!==null&&Vc(E)){var B=w.start,G=w.end;if(G===void 0&&(G=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var q=k.getSelection(),st=E.textContent.length,gt=Math.min(w.start,st),Zt=w.end===void 0?gt:Math.min(w.end,st);!q.extend&&gt>Zt&&(g=Zt,Zt=gt,gt=g);var M=Xd(E,gt),N=Xd(E,Zt);if(M&&N&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var j=F.createRange();j.setStart(M.node,M.offset),q.removeAllRanges(),gt>Zt?(q.addRange(j),q.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),q.addRange(j))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Y=F[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Du=!!rf,lf=rf=null}finally{Pt=c,et.p=l,Q.T=a}}t.current=n,De=2}}function hp(){if(De===2){De=0;var t=da,n=ir,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=et.p;et.p=2;var c=Pt;Pt|=4;try{Bg(t,n.alternate,n)}finally{Pt=c,et.p=l,Q.T=a}}De=3}}function fp(){if(De===4||De===3){De=0,so();var t=da,n=ir,a=Li,l=$g;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,ir=da=null,dp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fa=null),Ei(a),n=n.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=et.p,et.p=2,Q.T=null;try{for(var f=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,et.p=c}}(Li&3)!==0&&pu(),fi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Yh?Tl++:(Tl=0,Yh=t):Tl=0,Al(0)}}function dp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function pu(){return cp(),hp(),fp(),mp()}function mp(){if(De!==5)return!1;var t=da,n=Gh;Gh=0;var a=Ei(Li),l=Q.T,c=et.p;try{et.p=32>a?32:a,Q.T=null,a=Qh,Qh=null;var f=da,g=Li;if(De=0,ir=da=null,Li=0,(Pt&6)!==0)throw Error(s(331));var E=Pt;if(Pt|=4,Kg(f.current),Yg(f,f.current,g,a),Pt=E,Al(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{et.p=c,Q.T=l,dp(t,n)}}function gp(t,n,a){n=Sn(a,n),n=bh(t.stateNode,n,2),t=ra(t,n,2),t!==null&&(ja(t,2),fi(t))}function Yt(t,n,a){if(t.tag===3)gp(t,t,a);else for(;n!==null;){if(n.tag===3){gp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=Sn(a,t),a=pg(2),l=ra(n,a,2),l!==null&&(yg(a,l,n,t),ja(l,2),fi(l));break}}n=n.return}}function Kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Xv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ph=!0,c.add(a),t=Wv.bind(null,t,n,a),n.then(t,t))}function Wv(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(xt&a)===a&&(oe===4||oe===3&&(xt&62914560)===xt&&300>Ze()-cu?(Pt&2)===0&&ar(t,0):qh|=a,nr===xt&&(nr=0)),fi(t)}function pp(t,n){n===0&&(n=ho()),t=$a(t,n),t!==null&&(ja(t,n),fi(t))}function t1(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),pp(t,a)}function e1(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),pp(t,a)}function n1(t,n){return Ce(t,n)}var yu=null,rr=null,Zh=!1,_u=!1,Jh=!1,ga=0;function fi(t){t!==rr&&t.next===null&&(rr===null?yu=rr=t:rr=rr.next=t),_u=!0,Zh||(Zh=!0,a1())}function Al(t,n){if(!Jh&&_u){Jh=!0;do for(var a=!1,l=yu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ue(42|t)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ep(l,f))}else f=xt,f=Xn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||In(l,f)||(a=!0,Ep(l,f));l=l.next}while(a);Jh=!1}}function i1(){yp()}function yp(){_u=Zh=!1;var t=0;ga!==0&&m1()&&(t=ga);for(var n=Ze(),a=null,l=yu;l!==null;){var c=l.next,f=_p(l,n);f===0?(l.next=null,a===null?yu=c:a.next=c,c===null&&(rr=a)):(a=l,(t!==0||(f&3)!==0)&&(_u=!0)),l=c}De!==0&&De!==5||Al(t),ga!==0&&(ga=0)}function _p(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-ue(f),E=1<<g,w=c[g];w===-1?((E&a)===0||(E&l)!==0)&&(c[g]=wc(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=xt,a=Xn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Qt===2||Qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Hi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||In(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Hi(l),Ei(a)){case 2:case 8:a=Or;break;case 32:a=Gi;break;case 268435456:a=ro;break;default:a=Gi}return l=vp.bind(null,t),a=Ce(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Hi(l),t.callbackPriority=2,t.callbackNode=null,2}function vp(t,n){if(De!==0&&De!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pu()&&t.callbackNode!==a)return null;var l=xt;return l=Xn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),_p(t,Ze()),t.callbackNode!=null&&t.callbackNode===a?vp.bind(null,t):null)}function Ep(t,n){if(pu())return null;tp(t,n,!0)}function a1(){p1(function(){(Pt&6)!==0?Ce(Vr,i1):yp()})}function $h(){if(ga===0){var t=Qs;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),ga=t}return ga}function Tp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ns(""+t)}function Ap(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function s1(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Tp((c[Oe]||null).action),g=l.submitter;g&&(n=(n=g[Oe]||null)?Tp(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new si("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var w=g?Ap(c,g):new FormData(c);_h(a,{pending:!0,data:w,method:c.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Ap(c,g):new FormData(c),_h(a,{pending:!0,data:w,method:c.method,action:f},f,w))},currentTarget:c}]})}}for(var Wh=0;Wh<zc.length;Wh++){var tf=zc[Wh],r1=tf.toLowerCase(),l1=tf[0].toUpperCase()+tf.slice(1);Pn(r1,"on"+l1)}Pn(Wd,"onAnimationEnd"),Pn(tm,"onAnimationIteration"),Pn(em,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Sv,"onTransitionRun"),Pn(bv,"onTransitionStart"),Pn(Rv,"onTransitionCancel"),Pn(nm,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function Sp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],w=E.instance,B=E.currentTarget;if(E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Io(G)}c.currentTarget=null,f=w}else for(g=0;g<l.length;g++){if(E=l[g],w=E.instance,B=E.currentTarget,E=E.listener,w!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(G){Io(G)}c.currentTarget=null,f=w}}}}function Dt(t,n){var a=n[Rs];a===void 0&&(a=n[Rs]=new Set);var l=t+"__bubble";a.has(l)||(bp(n,t,2,!1),a.add(l))}function ef(t,n,a){var l=0;n&&(l|=4),bp(a,t,l,n)}var vu="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[vu]){t[vu]=!0,zr.forEach(function(a){a!=="selectionchange"&&(o1.has(a)||ef(a,!1,t),ef(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vu]||(n[vu]=!0,ef("selectionchange",!1,n))}}function bp(t,n,a,l){switch(Wp(n)){case 2:var c=U1;break;case 8:c=L1;break;default:c=_f}a=c.bind(null,n,a,t),c=void 0,!Ga||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function af(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=$n(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){l=f=g;continue t}E=E.parentNode}}l=l.return}Zi(function(){var B=f,G=vn(a),F=[];t:{var k=im.get(t);if(k!==void 0){var q=si,st=t;switch(t){case"keypress":if(Ya(a)===0)break t;case"keydown":case"keyup":q=No;break;case"focusin":st="focus",q=Xa;break;case"focusout":st="blur",q=Xa;break;case"beforeblur":case"afterblur":q=Xa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=To;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Wd:case tm:case em:q=So;break;case nm:q=T;break;case"scroll":case"scrollend":q=Fr;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Si;break;case"toggle":case"beforetoggle":q=St}var gt=(n&4)!==0,Zt=!gt&&(t==="scroll"||t==="scrollend"),M=gt?k!==null?k+"Capture":null:k;gt=[];for(var N=B,j;N!==null;){var Y=N;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||M===null||(Y=Ln(N,M),Y!=null&&gt.push(bl(N,Y,j))),Zt)break;N=N.return}0<gt.length&&(k=new q(k,st,null,a,G),F.push({event:k,listeners:gt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",k&&a!==Gr&&(st=a.relatedTarget||a.fromElement)&&($n(st)||st[Zn]))break t;if((q||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,q?(st=a.relatedTarget||a.toElement,q=B,st=st?$n(st):null,st!==null&&(Zt=h(st),gt=st.tag,st!==Zt||gt!==5&&gt!==27&&gt!==6)&&(st=null)):(q=null,st=B),q!==st)){if(gt=Xr,Y="onMouseLeave",M="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Si,Y="onPointerLeave",M="onPointerEnter",N="pointer"),Zt=q==null?k:on(q),j=st==null?k:on(st),k=new gt(Y,N+"leave",q,a,G),k.target=Zt,k.relatedTarget=j,Y=null,$n(G)===B&&(gt=new gt(M,N+"enter",st,a,G),gt.target=j,gt.relatedTarget=Zt,Y=gt),Zt=Y,q&&st)e:{for(gt=u1,M=q,N=st,j=0,Y=M;Y;Y=gt(Y))j++;Y=0;for(var ct=N;ct;ct=gt(ct))Y++;for(;0<j-Y;)M=gt(M),j--;for(;0<Y-j;)N=gt(N),Y--;for(;j--;){if(M===N||N!==null&&M===N.alternate){gt=M;break e}M=gt(M),N=gt(N)}gt=null}else gt=null;q!==null&&Rp(F,k,q,gt,!1),st!==null&&Zt!==null&&Rp(F,Zt,st,gt,!0)}}t:{if(k=B?on(B):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var jt=qd;else if(kd(k))if(Hd)jt=Ev;else{jt=_v;var lt=yv}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?B&&xs(B.elementType)&&(jt=qd):jt=vv;if(jt&&(jt=jt(t,B))){Pd(F,jt,a,G);break t}lt&&lt(t,k,B),t==="focusout"&&B&&k.type==="number"&&B.memoizedProps.value!=null&&Pr(k,"number",k.value)}switch(lt=B?on(B):window,t){case"focusin":(kd(lt)||lt.contentEditable==="true")&&(Ls=lt,Oc=B,Wr=null);break;case"focusout":Wr=Oc=Ls=null;break;case"mousedown":Ic=!0;break;case"contextmenu":case"mouseup":case"dragend":Ic=!1,Jd(F,a,G);break;case"selectionchange":if(Av)break;case"keydown":case"keyup":Jd(F,a,G)}var wt;if(kt)t:{switch(t){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else Us?Ka(t,a)&&(Nt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Nt="onCompositionStart");Nt&&(oi&&a.locale!=="ko"&&(Us||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&Us&&(wt=Yr()):(ai=G,Qr="value"in ai?ai.value:ai.textContent,Us=!0)),lt=Eu(B,Nt),0<lt.length&&(Nt=new li(Nt,t,null,a,G),F.push({event:Nt,listeners:lt}),wt?Nt.data=wt:(wt=zs(a),wt!==null&&(Nt.data=wt)))),(wt=Tn?dv(t,a):mv(t,a))&&(Nt=Eu(B,"onBeforeInput"),0<Nt.length&&(lt=new li("onBeforeInput","beforeinput",null,a,G),F.push({event:lt,listeners:Nt}),lt.data=wt)),s1(F,t,B,a,G)}Sp(F,n)})}function bl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Eu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Ln(t,a),c!=null&&l.unshift(bl(t,c,f)),c=Ln(t,n),c!=null&&l.push(bl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function u1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Rp(t,n,a,l,c){for(var f=n._reactName,g=[];a!==null&&a!==l;){var E=a,w=E.alternate,B=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||B===null||(w=B,c?(B=Ln(a,f),B!=null&&g.unshift(bl(a,B,w))):c||(B=Ln(a,f),B!=null&&g.push(bl(a,B,w)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var c1=/\r\n?/g,h1=/\u0000|\uFFFD/g;function wp(t){return(typeof t=="string"?t:""+t).replace(c1,`
`).replace(h1,"")}function Cp(t,n){return n=wp(n),wp(t)===n}function Kt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&tn(t,""+l);break;case"className":un(t,"class",l);break;case"tabIndex":un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":un(t,a,l);break;case"style":Hr(t,l,f);break;case"data":if(n!=="object"){un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ns(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ns(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ns(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Cs(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Eo.get(a)||a,Cs(t,a,l))}}function sf(t,n,a,l,c,f){switch(a){case"style":Hr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?tn(t,l):(typeof l=="number"||typeof l=="bigint")&&tn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ur.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[Oe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Cs(t,a,l)}}}function qe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,g,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=g=c=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":w=G;break;case"defaultChecked":B=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,l,G,a,null)}}yo(t,f,E,w,B,g,c,!1);return;case"select":Dt("invalid",t),l=g=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=f,a=g,t.multiple=!!l,n!=null?Yi(t,!!l,n,!1):a!=null&&Yi(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,g,E,a,null)}Fi(t,l,c,f);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Dt(Sl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,B,l,a,null)}return;default:if(xs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&sf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function f1(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,w=null,B=null,G=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=F;default:l.hasOwnProperty(q)||Kt(t,n,q,null,l,F)}}for(var k in l){var q=l[k];if(F=a[k],l.hasOwnProperty(k)&&(q!=null||F!=null))switch(k){case"type":f=q;break;case"name":c=q;break;case"checked":B=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==F&&Kt(t,n,k,q,l,F)}}Ds(t,g,E,w,B,G,f,c);return;case"select":q=g=E=k=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(c in l)if(f=l[c],w=a[c],l.hasOwnProperty(c)&&(f!=null||w!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Kt(t,n,c,f,l,w)}n=E,a=g,l=q,k!=null?Yi(t,!!a,k,!1):!!l!=!!a&&(n!=null?Yi(t,!!a,n,!0):Yi(t,!!a,a?[]:"",!1));return;case"textarea":q=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(g in l)if(c=l[g],f=a[g],l.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,g,c,l,f)}_o(t,k,q);return;case"option":for(var st in a)if(k=a[st],a.hasOwnProperty(st)&&k!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Kt(t,n,st,null,l,k)}for(w in l)if(k=l[w],q=a[w],l.hasOwnProperty(w)&&k!==q&&(k!=null||q!=null))switch(w){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Kt(t,n,w,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)k=a[gt],a.hasOwnProperty(gt)&&k!=null&&!l.hasOwnProperty(gt)&&Kt(t,n,gt,null,l,k);for(B in l)if(k=l[B],q=a[B],l.hasOwnProperty(B)&&k!==q&&(k!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Kt(t,n,B,k,l,q)}return;default:if(xs(n)){for(var Zt in a)k=a[Zt],a.hasOwnProperty(Zt)&&k!==void 0&&!l.hasOwnProperty(Zt)&&sf(t,n,Zt,void 0,l,k);for(G in l)k=l[G],q=a[G],!l.hasOwnProperty(G)||k===q||k===void 0&&q===void 0||sf(t,n,G,k,l,q);return}}for(var M in a)k=a[M],a.hasOwnProperty(M)&&k!=null&&!l.hasOwnProperty(M)&&Kt(t,n,M,null,l,k);for(F in l)k=l[F],q=a[F],!l.hasOwnProperty(F)||k===q||k==null&&q==null||Kt(t,n,F,k,l,q)}function Dp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&Dp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var w=a[l],B=w.startTime;if(B>E)break;var G=w.transferSize,F=w.initiatorType;G&&Dp(F)&&(w=w.responseEnd,g+=G*(w<E?1:(E-B)/(w-B)))}if(--l,n+=8*(f+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rf=null,lf=null;function Tu(t){return t.nodeType===9?t:t.ownerDocument}function xp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function of(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var uf=null;function m1(){var t=window.event;return t&&t.type==="popstate"?t===uf?!1:(uf=t,!0):(uf=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,g1=typeof clearTimeout=="function"?clearTimeout:void 0,Op=typeof Promise=="function"?Promise:void 0,p1=typeof queueMicrotask=="function"?queueMicrotask:typeof Op<"u"?function(t){return Op.resolve(null).then(t).catch(y1)}:Vp;function y1(t){setTimeout(function(){throw t})}function pa(t){return t==="head"}function Ip(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),cr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Jn]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&Rl(t.ownerDocument.body);a=c}while(a);cr(n)}function Mp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cf(a),ws(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function _1(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Dn(t.nextSibling),t===null)break}return null}function v1(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Dn(t.nextSibling),t===null))return null;return t}function zp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Dn(t.nextSibling),t===null))return null;return t}function hf(t){return t.data==="$?"||t.data==="$~"}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function E1(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Dn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var df=null;function Up(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Dn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Lp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function jp(t,n,a){switch(n=Tu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ws(t)}var xn=new Map,Bp=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=et.d;et.d={f:T1,r:A1,D:S1,C:b1,L:R1,m:w1,X:D1,S:C1,M:x1};function T1(){var t=ji.f(),n=du();return t||n}function A1(t){var n=_n(t);n!==null&&n.tag===5&&n.type==="form"?ng(n):ji.r(t)}var lr=typeof document>"u"?null:document;function kp(t,n,a){var l=lr;if(l&&typeof n=="string"&&n){var c=We(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Bp.has(c)||(Bp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),qe(n,"link",t),ye(n),l.head.appendChild(n)))}}function S1(t){ji.D(t),kp("dns-prefetch",t,null)}function b1(t,n){ji.C(t,n),kp("preconnect",t,n)}function R1(t,n,a){ji.L(t,n,a);var l=lr;if(l&&t&&n){var c='link[rel="preload"][as="'+We(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+We(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+We(a.imageSizes)+'"]')):c+='[href="'+We(t)+'"]';var f=c;switch(n){case"style":f=or(t);break;case"script":f=ur(t)}xn.has(f)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),xn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(wl(f))||n==="script"&&l.querySelector(Cl(f))||(n=l.createElement("link"),qe(n,"link",t),ye(n),l.head.appendChild(n)))}}function w1(t,n){ji.m(t,n);var a=lr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+We(l)+'"][href="'+We(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ur(t)}if(!xn.has(f)&&(t=b({rel:"modulepreload",href:t},n),xn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(f)))return}l=a.createElement("link"),qe(l,"link",t),ye(l),a.head.appendChild(l)}}}function C1(t,n,a){ji.S(t,n,a);var l=lr;if(l&&t){var c=Wn(l).hoistableStyles,f=or(t);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(wl(f)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=xn.get(f))&&mf(t,a);var w=g=l.createElement("link");ye(w),qe(w,"link",t),w._p=new Promise(function(B,G){w.onload=B,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Su(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function D1(t,n){ji.X(t,n);var a=lr;if(a&&t){var l=Wn(a).hoistableScripts,c=ur(t),f=l.get(c);f||(f=a.querySelector(Cl(c)),f||(t=b({src:t,async:!0},n),(n=xn.get(c))&&gf(t,n),f=a.createElement("script"),ye(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function x1(t,n){ji.M(t,n);var a=lr;if(a&&t){var l=Wn(a).hoistableScripts,c=ur(t),f=l.get(c);f||(f=a.querySelector(Cl(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=xn.get(c))&&gf(t,n),f=a.createElement("script"),ye(f),qe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Pp(t,n,a,l){var c=(c=Rt.current)?Au(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=or(a.href),a=Wn(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=or(a.href);var f=Wn(c).hoistableStyles,g=f.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=c.querySelector(wl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),f||N1(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ur(a),a=Wn(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function or(t){return'href="'+We(t)+'"'}function wl(t){return'link[rel="stylesheet"]['+t+"]"}function qp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function N1(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),qe(n,"link",a),ye(n),t.head.appendChild(n))}function ur(t){return'[src="'+We(t)+'"]'}function Cl(t){return"script[async]"+t}function Hp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+We(a.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),qe(l,"style",c),Su(l,a.precedence,t),n.instance=l;case"stylesheet":c=or(a.href);var f=t.querySelector(wl(c));if(f)return n.state.loading|=4,n.instance=f,ye(f),f;l=qp(a),(c=xn.get(c))&&mf(l,c),f=(t.ownerDocument||t).createElement("link"),ye(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",l),n.state.loading|=4,Su(f,a.precedence,t),n.instance=f;case"script":return f=ur(a.src),(c=t.querySelector(Cl(f)))?(n.instance=c,ye(c),c):(l=a,(c=xn.get(f))&&(l=b({},a),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),qe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Su(l,a.precedence,t));return n.instance}function Su(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bu=null;function Gp(t,n,a){if(bu===null){var l=new Map,c=bu=new Map;c.set(a,l)}else c=bu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Jn]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function Qp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function V1(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function O1(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=or(l.href),f=n.querySelector(wl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ru.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,ye(f);return}f=n.ownerDocument||n,l=qp(l),(c=xn.get(c))&&mf(l,c),f=f.createElement("link"),ye(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),qe(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Ru.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var pf=0;function I1(t,n){return t.stylesheets&&t.count===0&&Cu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&pf===0&&(pf=62500*d1());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cu(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>pf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var wu=null;function Cu(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,wu=new Map,n.forEach(M1,t),wu=null,Ru.call(t))}function M1(t,n){if(!(n.state.loading&4)){var a=wu.get(t);if(a)var l=a.get(null);else{a=new Map,wu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),f=a.get(g)||l,f===l&&a.set(null,c),a.set(g,c),this.count++,l=Ru.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function z1(t,n,a,l,c,f,g,E,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Fp(t,n,a,l,c,f,g,E,w,B,G,F){return t=new z1(t,n,a,g,w,B,G,F,E),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),t.current=f,f.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},$c(f),t}function Xp(t){return t?(t=ks,t):ks}function Kp(t,n,a,l,c,f){c=Xp(c),l.context===null?l.context=c:l.pendingContext=c,l=sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ra(t,l,n),a!==null&&(rn(a,t,n),rl(a,t,n))}function Zp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function yf(t,n){Zp(t,n),(t=t.alternate)&&Zp(t,n)}function Jp(t){if(t.tag===13||t.tag===31){var n=$a(t,67108864);n!==null&&rn(n,t,67108864),yf(t,67108864)}}function $p(t){if(t.tag===13||t.tag===31){var n=pn();n=ka(n);var a=$a(t,n);a!==null&&rn(a,t,n),yf(t,n)}}var Du=!0;function U1(t,n,a,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=2,_f(t,n,a,l)}finally{et.p=f,Q.T=c}}function L1(t,n,a,l){var c=Q.T;Q.T=null;var f=et.p;try{et.p=8,_f(t,n,a,l)}finally{et.p=f,Q.T=c}}function _f(t,n,a,l){if(Du){var c=vf(l);if(c===null)af(t,n,l,xu,a),ty(t,l);else if(B1(c,t,n,a,l))l.stopPropagation();else if(ty(t,l),n&4&&-1<j1.indexOf(t)){for(;c!==null;){var f=_n(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Fn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ue(g);E.entanglements[1]|=w,g&=~w}fi(f),(Pt&6)===0&&(hu=Ze()+500,Al(0))}}break;case 31:case 13:E=$a(f,2),E!==null&&rn(E,f,2),du(),yf(f,2)}if(f=vf(l),f===null&&af(t,n,l,xu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else af(t,n,l,null,a)}}function vf(t){return t=vn(t),Ef(t)}var xu=null;function Ef(t){if(xu=null,t=$n(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xu=t,null}function Wp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ua()){case Vr:return 2;case Or:return 8;case Gi:case Rc:return 32;case ro:return 268435456;default:return 32}default:return 32}}var Tf=!1,ya=null,_a=null,va=null,xl=new Map,Nl=new Map,Ea=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(t,n){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":xl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(n.pointerId)}}function Vl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=_n(n),n!==null&&Jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function B1(t,n,a,l,c){switch(n){case"focusin":return ya=Vl(ya,t,n,a,l,c),!0;case"dragenter":return _a=Vl(_a,t,n,a,l,c),!0;case"mouseover":return va=Vl(va,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return xl.set(f,Vl(xl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Nl.set(f,Vl(Nl.get(f)||null,t,n,a,l,c)),!0}return!1}function ey(t){var n=$n(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){$p(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,Mn(t.priority,function(){$p(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=vf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Gr=l,a.target.dispatchEvent(l),Gr=null}else return n=_n(a),n!==null&&Jp(n),t.blockedOn=a,!1;n.shift()}return!0}function ny(t,n,a){Nu(t)&&a.delete(n)}function k1(){Tf=!1,ya!==null&&Nu(ya)&&(ya=null),_a!==null&&Nu(_a)&&(_a=null),va!==null&&Nu(va)&&(va=null),xl.forEach(ny),Nl.forEach(ny)}function Vu(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,k1)))}var Ou=null;function iy(t){Ou!==t&&(Ou=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ou===t&&(Ou=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||a)===null)continue;break}var f=_n(a);f!==null&&(t.splice(n,3),n-=3,_h(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function cr(t){function n(w){return Vu(w,t)}ya!==null&&Vu(ya,t),_a!==null&&Vu(_a,t),va!==null&&Vu(va,t),xl.forEach(n),Nl.forEach(n);for(var a=0;a<Ea.length;a++){var l=Ea[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)ey(a),a.blockedOn===null&&Ea.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],g=c[Oe]||null;if(typeof f=="function")g||iy(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Oe]||null)E=g.formAction;else if(Ef(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),iy(a)}}}function ay(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Af(t){this._internalRoot=t}Iu.prototype.render=Af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pn();Kp(a,l,t,n,null,null)},Iu.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Kp(t.current,2,null,t,null,null),du(),n[Zn]=null}};function Iu(t){this._internalRoot=t}Iu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fo();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ea.length&&n!==0&&n<Ea[a].priority;a++);Ea.splice(a,0,t),a===0&&ey(t)}};var sy=e.version;if(sy!=="19.2.0")throw Error(s(527,sy,"19.2.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var P1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{On=Mu.inject(P1),Le=Mu}catch{}}return Il.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=fg,f=dg,g=mg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Fp(t,1,!1,null,null,a,l,null,c,f,g,ay),t[Zn]=n.current,nf(t),new Af(n)},Il.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=fg,g=dg,E=mg,w=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),n=Fp(t,1,!0,n,a??null,l,c,w,f,g,E,ay),n.context=Xp(null),a=n.current,l=pn(),l=ka(l),c=sa(l),c.callback=null,ra(a,c,l),a=l,n.current.lanes=a,ja(n,a),fi(n),t[Zn]=n.current,nf(t),new Iu(n)},Il.version="19.2.0",Il}var gy;function $1(){if(gy)return Rf.exports;gy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rf.exports=J1(),Rf.exports}var W1=$1();const tE=b0(W1);var Aa=(r=>(r.EQUAL="equal",r.PROGRESSION="progression",r.RANDOM="random",r))(Aa||{});const Xu=({children:r,variant:e="primary",size:i="md",fullWidth:s=!1,className:o="",...h})=>{const d="inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",y={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500 shadow-sm",secondary:"bg-emerald-600 text-white hover:bg-emerald-700 focus:ring-emerald-500 shadow-sm",outline:"border border-slate-300 bg-white text-slate-700 hover:bg-slate-50 focus:ring-indigo-500",danger:"bg-red-50 text-red-600 hover:bg-red-100 focus:ring-red-500"},v={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},_=s?"w-full":"";return U.jsx("button",{className:`${d} ${y[e]} ${v[i]} ${_} ${o}`,...h,children:r})},ps={en:{createGoal:"Create a Goal",createGoalDesc:"Set your target, and we'll create a personal savings plan for you.",howMuch:"Target Amount",howMuchPlaceholder:"e.g. 50000",howMuchError:"Please enter a valid amount.",minAmountError:r=>`Target amount must be at least ${r} (min 1 per day).`,duration:"Duration (Days)",week:"1 week",year:"1 year",distribution:"Distribution Mode",currency:"Currency",startChallenge:"Start Challenge",modeEqual:"Equal",modeEqualDesc:"Same amount daily",modeProgression:"Progression",modeProgressionDesc:"Low to high",modeRandom:"Random",modeRandomDesc:"Balanced mix",goalProgress:"Goal Progress",saved:"Saved",remaining:"Remaining",envelopesOpened:"Envelopes Opened",progress:"Progress",yourEnvelopes:"Your Envelopes",filterAll:"All",filterClosed:"Closed",filterOpened:"Opened",emptyCategory:"No envelopes in this category.",sortByAmount:"Sort by Amount",sortDefault:"Default Order",day:"Day",envelope:"Envelope",tapToOpen:"Tap to open",settings:"Settings",language:"Language",currencyUpdateNote:"Changing currency will update the display format.",done:"Done",reset:"Reset",resetTitle:"Reset Progress?",resetDesc:"You will lose all savings history and achievements. This action cannot be undone.",cancel:"Cancel",confirmReset:"Reset",achievements:"Achievements",ach_first_step_title:"First Step",ach_first_step_desc:"Open your first envelope",ach_saved_1000_title:"Piggy Bank",ach_saved_1000_desc:"First 1,000 accumulated",ach_saved_5000_title:"Banker",ach_saved_5000_desc:"5,000 accumulated",ach_saved_10000_title:"Tycoon",ach_saved_10000_desc:"10,000 accumulated",ach_streak_3_title:"Warm Up",ach_streak_3_desc:"3 day streak",ach_streak_7_title:"Discipline Week",ach_streak_7_desc:"7 day streak without skipping",ach_half_way_title:"Half Way",ach_half_way_desc:"50% of goal reached",ach_goal_reached_title:"Dream Come True",ach_goal_reached_desc:"Goal fully achieved!"},ru:{createGoal:" ",createGoalDesc:" ,        .",howMuch:"  ?",howMuchPlaceholder:" 50000",howMuchError:",   .",minAmountError:r=>`      ${r} ( 1  ).`,duration:"  ()",week:"1 ",year:"1 ",distribution:" ",currency:"",startChallenge:" ",modeEqual:"",modeEqualDesc:" ",modeProgression:"",modeProgressionDesc:"   ",modeRandom:"",modeRandomDesc:" ",goalProgress:" ",saved:"",remaining:" ",envelopesOpened:" ",progress:"",yourEnvelopes:" ",filterAll:"",filterClosed:"",filterOpened:"",emptyCategory:"     .",sortByAmount:" ",sortDefault:" ",day:"",envelope:"",tapToOpen:",  ",settings:"",language:"",currencyUpdateNote:"     .",done:"",reset:"",resetTitle:" ?",resetDesc:"      .    .",cancel:"",confirmReset:"",achievements:"",ach_first_step_title:" ",ach_first_step_desc:"   ",ach_saved_1000_title:"",ach_saved_1000_desc:"  1 000",ach_saved_5000_title:"",ach_saved_5000_desc:" 5 000",ach_saved_10000_title:"",ach_saved_10000_desc:" 10 000",ach_streak_3_title:"",ach_streak_3_desc:"3     ",ach_streak_7_title:" ",ach_streak_7_desc:"7    ",ach_half_way_title:"",ach_half_way_desc:"  ",ach_goal_reached_title:" ",ach_goal_reached_desc:"  !"}},eE=({onStart:r,lang:e})=>{const i=ps[e],[s,o]=xe.useState(""),[h,d]=xe.useState(30),[y,v]=xe.useState(Aa.RANDOM),[_,A]=xe.useState("USD"),[b,x]=xe.useState(""),H=[{code:"USD",symbol:"$"},{code:"EUR",symbol:""},{code:"RUB",symbol:""},{code:"KZT",symbol:""},{code:"BYN",symbol:"Br"},{code:"UAH",symbol:""}],tt=Z=>{Z.preventDefault(),x("");const J=parseInt(s.replace(/\D/g,""),10);if(isNaN(J)||J<=0){x(i.howMuchError);return}if(J<h){x(i.minAmountError(h));return}r(J,h,y,_)};return U.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:U.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 border border-slate-100",children:[U.jsxs("div",{className:"text-center mb-8",children:[U.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-indigo-50 mb-4",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-indigo-600",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})})}),U.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:i.createGoal}),U.jsx("p",{className:"text-slate-500",children:i.createGoalDesc})]}),U.jsxs("form",{onSubmit:tt,className:"space-y-6",children:[b&&U.jsxs("div",{className:"p-3 bg-red-50 text-red-700 text-sm rounded-lg border border-red-100 flex items-center gap-2",children:[U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 flex-shrink-0",children:U.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),b]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:i.currency}),U.jsx("div",{className:"grid grid-cols-6 gap-2",children:H.map(Z=>U.jsx("button",{type:"button",onClick:()=>A(Z.code),className:`p-2 rounded-lg text-sm font-bold border transition-all ${_===Z.code?"border-indigo-500 bg-indigo-50 text-indigo-700 ring-1 ring-indigo-500":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:Z.symbol},Z.code))})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:i.howMuch}),U.jsx("input",{type:"number",value:s,onChange:Z=>o(Z.target.value),placeholder:i.howMuchPlaceholder,className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors text-lg [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",required:!0,min:"100"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:i.duration}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("input",{type:"range",min:"7",max:"365",value:h,onChange:Z=>d(Number(Z.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),U.jsx("div",{className:"w-16 text-center font-bold text-lg text-indigo-600 border border-indigo-100 bg-indigo-50 rounded px-2 py-1",children:h})]}),U.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[U.jsx("span",{children:i.week}),U.jsx("span",{children:i.year})]})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:i.distribution}),U.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{id:Aa.EQUAL,label:i.modeEqual,desc:i.modeEqualDesc,icon:""},{id:Aa.PROGRESSION,label:i.modeProgression,desc:i.modeProgressionDesc,icon:""},{id:Aa.RANDOM,label:i.modeRandom,desc:i.modeRandomDesc,icon:""}].map(Z=>U.jsxs("button",{type:"button",onClick:()=>v(Z.id),className:`p-2 rounded-lg text-center border transition-all flex flex-col items-center justify-center gap-1 h-24 ${y===Z.id?"border-indigo-500 bg-indigo-50 text-indigo-700 ring-1 ring-indigo-500":"border-slate-200 hover:border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[U.jsx("span",{className:"text-xl",children:Z.icon}),U.jsx("div",{className:"font-medium text-sm leading-tight",children:Z.label}),U.jsx("div",{className:"text-[10px] opacity-75 leading-tight",children:Z.desc})]},Z.id))})]}),U.jsx(Xu,{type:"submit",fullWidth:!0,size:"lg",children:i.startChallenge})]})]})})},Pu=(r,e="RUB")=>{try{return new Intl.NumberFormat("ru-RU",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(r)}catch{return`${r} ${e}`}},nE=(r,e,i)=>{r<e&&(r=e);let s=new Array(e).fill(0);switch(i){case Aa.EQUAL:{const o=Math.floor(r/e);let h=r%e;for(let d=0;d<e;d++)s[d]=o+(h>0?1:0),h--;break}case Aa.PROGRESSION:{const o=e*(e-1)/2,h=r-o,d=Math.floor(h/e);let y=h%e;for(let b=0;b<e;b++){let x=b+d+(y>0?1:0);x<1&&(x=1),s[b]=x,y--}const v=s.reduce((b,x)=>b+x,0);let _=r-v,A=0;for(;_!==0;)_>0?(s[A]++,_--):s[A]>1&&(s[A]--,_++),A=(A+1)%e;break}case Aa.RANDOM:default:{const o=r/e,h=.4;let d=0;for(let _=0;_<e;_++){const A=Math.max(1,o*(1-h)),b=Math.max(1,o*(1+h));let x=Math.floor(Math.random()*(b-A+1))+A;x=Math.max(1,x),s[_]=x,d+=x}let y=r-d;if(Math.abs(y)>e){const _=Math.floor(y/e);if(_!==0){for(let A=0;A<e;A++)y<0&&s[A]+_<1||(s[A]+=_,d+=_);y=r-d}}let v=0;for(;y!==0&&v<1e5;){const _=Math.floor(Math.random()*e);y>0?(s[_]++,y--):s[_]>1&&(s[_]--,y++),v++}break}}for(let o=s.length-1;o>0;o--){const h=Math.floor(Math.random()*(o+1));[s[o],s[h]]=[s[h],s[o]]}return s.map((o,h)=>({id:h+1,amount:o,isOpen:!1}))},iE=r=>{const e=r.reduce((h,d)=>h+d.amount,0),i=r.filter(h=>h.isOpen).reduce((h,d)=>h+d.amount,0),s=r.length,o=r.filter(h=>h.isOpen).length;return{total:e,saved:i,daysTotal:s,daysCompleted:o,percentage:e===0?0:i/e*100}};function aE(r,e){let i;return(...s)=>{clearTimeout(i),i=setTimeout(()=>r(...s),e)}}const sE=({envelope:r,onClick:e,currency:i="RUB",lang:s})=>{const{id:o,amount:h,isOpen:d}=r,y=ps[s];return d?U.jsxs("div",{className:"relative aspect-[4/3] rounded-xl border-2 border-emerald-100 bg-emerald-50 p-4 flex flex-col items-center justify-center text-emerald-800 transition-all shadow-sm animate-pop-in",children:[U.jsx("div",{className:"absolute top-2 right-2",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5 text-emerald-500",children:U.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})}),U.jsxs("span",{className:"text-sm font-semibold text-emerald-600 mb-1",children:[y.day," ",o]}),U.jsx("span",{className:"text-xl font-bold",children:Pu(h,i)})]}):U.jsxs("button",{onClick:()=>e(o),className:"group relative aspect-[4/3] w-full rounded-xl bg-white border border-slate-200 shadow-sm hover:shadow-md hover:-translate-y-1 hover:border-indigo-300 transition-all duration-200 flex flex-col items-center justify-center overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-50 to-white opacity-0 group-hover:opacity-100 transition-opacity"}),U.jsx("div",{className:"z-10 text-slate-400 group-hover:text-indigo-500 mb-2 transition-colors",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})}),U.jsxs("span",{className:"z-10 text-sm font-medium text-slate-500 group-hover:text-indigo-600",children:[y.envelope," #",o]}),U.jsx("span",{className:"z-10 text-xs text-slate-400 mt-1",children:y.tapToOpen})]})},R0=r=>{const e=ps[r];return[{id:"first_step",title:e.ach_first_step_title,description:e.ach_first_step_desc,icon:"",conditionType:"completion",threshold:0},{id:"saved_1000",title:e.ach_saved_1000_title,description:e.ach_saved_1000_desc,icon:"",conditionType:"amount",threshold:1e3},{id:"saved_5000",title:e.ach_saved_5000_title,description:e.ach_saved_5000_desc,icon:"",conditionType:"amount",threshold:5e3},{id:"saved_10000",title:e.ach_saved_10000_title,description:e.ach_saved_10000_desc,icon:"",conditionType:"amount",threshold:1e4},{id:"streak_3",title:e.ach_streak_3_title,description:e.ach_streak_3_desc,icon:"",conditionType:"streak",threshold:3},{id:"streak_7",title:e.ach_streak_7_title,description:e.ach_streak_7_desc,icon:"",conditionType:"streak",threshold:7},{id:"half_way",title:e.ach_half_way_title,description:e.ach_half_way_desc,icon:"",conditionType:"completion",threshold:50},{id:"goal_reached",title:e.ach_goal_reached_title,description:e.ach_goal_reached_desc,icon:"",conditionType:"completion",threshold:100}]},rE=(r,e)=>{const i=R0("en"),s=[],o=new Set(r.unlockedAchievements||[]),h=r.envelopes.filter(x=>x.isOpen),d=h.reduce((x,H)=>x+H.amount,0),y=d/r.targetAmount*100;i.filter(x=>x.conditionType==="amount").forEach(x=>{!o.has(x.id)&&d>=(x.threshold||0)&&s.push(x.id)}),!o.has("first_step")&&h.length>0&&s.push("first_step"),!o.has("half_way")&&y>=50&&s.push("half_way"),!o.has("goal_reached")&&y>=100&&s.push("goal_reached");const v=h.map(x=>x.openedAt?new Date(x.openedAt).toDateString():null).filter(Boolean),_=Array.from(new Set(v)).map(x=>new Date(x).getTime()).sort((x,H)=>x-H);let A=0,b=0;for(let x=0;x<_.length;x++){if(x===0)A=1;else{const H=Math.abs(_[x]-_[x-1]);Math.ceil(H/(1e3*60*60*24))===1?A++:A=1}b=Math.max(b,A)}return i.filter(x=>x.conditionType==="streak").forEach(x=>{!o.has(x.id)&&b>=(x.threshold||0)&&s.push(x.id)}),s},lE=({unlockedIds:r,lang:e})=>{const i=R0(e),s=ps[e];return U.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[U.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg text-yellow-600",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:U.jsx("path",{fillRule:"evenodd",d:"M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 00-.584.859 6.753 6.753 0 006.138 5.6 6.73 6.73 0 002.743 1.346A6.707 6.707 0 019.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 00-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 00.75-.75 2.25 2.25 0 00-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 01-1.612-3.125 6.73 6.73 0 002.743-1.347 6.753 6.753 0 006.139-5.6.75.75 0 00-.585-.858 47.077 47.077 0 00-3.07-.543V2.62a.75.75 0 00-.658-.744 49.22 49.22 0 00-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 00-.657.744zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 013.16 5.337a45.6 45.6 0 012.006-.343v.256zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 01-2.863 3.207 6.72 6.72 0 00.857-3.294z",clipRule:"evenodd"})})}),U.jsx("h3",{className:"text-xl font-bold text-slate-900",children:s.achievements}),U.jsxs("span",{className:"ml-auto text-sm font-medium text-slate-500",children:[r.length," / ",i.length]})]}),U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map(o=>{const h=r.includes(o.id);return U.jsxs("div",{className:`relative p-4 rounded-xl border transition-all duration-300 ${h?"bg-gradient-to-br from-yellow-50 to-white border-yellow-200 shadow-sm":"bg-slate-50 border-slate-100 opacity-60 grayscale"}`,children:[U.jsxs("div",{className:"flex items-start justify-between mb-2",children:[U.jsx("div",{className:`text-2xl ${h?"scale-110":""} transition-transform`,children:o.icon}),h&&U.jsx("div",{className:"bg-yellow-100 rounded-full p-1",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3 text-yellow-600",children:U.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"})})})]}),U.jsx("h4",{className:`font-semibold text-sm mb-1 ${h?"text-slate-900":"text-slate-500"}`,children:o.title}),U.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:o.description})]},o.id)})})]})},oE=({isOpen:r,onClose:e,currency:i,onCurrencyChange:s,lang:o,onLanguageChange:h})=>{const d=ps[o];if(!r)return null;const y=[{code:"USD",label:"US Dollar ($)"},{code:"EUR",label:"Euro ()"},{code:"RUB",label:"Russian Ruble ()"},{code:"KZT",label:"Tenge ()"},{code:"BYN",label:"Belarusian Ruble (Br)"},{code:"UAH",label:"Hryvnia ()"}];return U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm",children:U.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden animate-pop-in",children:[U.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[U.jsx("h3",{className:"text-lg font-bold text-slate-900",children:d.settings}),U.jsx("button",{onClick:e,className:"text-slate-400 hover:text-slate-600",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),U.jsxs("div",{className:"p-6 space-y-6",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:d.language}),U.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[U.jsx("button",{onClick:()=>h("en"),className:`px-4 py-2 rounded-lg border text-sm font-medium transition-colors ${o==="en"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"English"}),U.jsx("button",{onClick:()=>h("ru"),className:`px-4 py-2 rounded-lg border text-sm font-medium transition-colors ${o==="ru"?"border-indigo-600 bg-indigo-50 text-indigo-700":"border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:""})]})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:d.currency}),U.jsx("select",{value:i,onChange:v=>s(v.target.value),className:"w-full px-3 py-2 rounded-lg border border-slate-300 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",children:y.map(v=>U.jsx("option",{value:v.code,children:v.label},v.code))}),U.jsx("p",{className:"mt-2 text-xs text-slate-500",children:d.currencyUpdateNote})]})]}),U.jsx("div",{className:"p-6 bg-slate-50 flex justify-end",children:U.jsx(Xu,{onClick:e,variant:"primary",children:d.done})})]})})},uE=({isOpen:r,onClose:e,onConfirm:i,lang:s})=>{const o=ps[s];return r?U.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-fade-in",children:U.jsx("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm overflow-hidden animate-pop-in",children:U.jsxs("div",{className:"p-6 text-center",children:[U.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-red-600",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})})}),U.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:o.resetTitle}),U.jsx("p",{className:"text-slate-500 text-sm mb-6",children:o.resetDesc}),U.jsxs("div",{className:"flex gap-3",children:[U.jsx(Xu,{onClick:e,variant:"outline",fullWidth:!0,children:o.cancel}),U.jsx(Xu,{onClick:i,variant:"danger",fullWidth:!0,children:o.confirmReset})]})]})})}):null},cE=({state:r,onOpenEnvelope:e,onReset:i,onUpdateCurrency:s,lang:o,onLanguageChange:h,syncStatus:d="saved"})=>{const y=ps[o],{percentage:v,saved:_,total:A,daysCompleted:b,daysTotal:x}=iE(r.envelopes),[H,tt]=xe.useState("all"),[Z,J]=xe.useState("default"),[ft,ot]=xe.useState(!1),[rt,vt]=xe.useState(!1);let dt=r.envelopes.filter(S=>H==="opened"?S.isOpen:H==="closed"?!S.isOpen:!0);Z==="amount_asc"?dt=[...dt].sort((S,C)=>S.amount-C.amount):dt=[...dt].sort((S,C)=>S.id-C.id);const At=r.currency||"RUB",D=()=>{i(),vt(!1)};return U.jsxs("div",{className:"min-h-screen pb-12",children:[d!=="saved"&&U.jsxs("div",{className:`fixed top-20 right-4 md:top-4 md:right-4 text-xs px-3 py-1.5 rounded-full shadow-lg z-50 font-medium transition-all duration-300 flex items-center gap-2
          ${d==="saving"?"bg-blue-50 text-blue-600 border border-blue-100":""}
          ${d==="error"?"bg-red-50 text-red-600 border border-red-100":""}
        `,children:[d==="saving"&&U.jsxs(U.Fragment,{children:[U.jsx("span",{className:"animate-spin h-3 w-3 border-2 border-blue-600 border-t-transparent rounded-full"}),"Saving..."]}),d==="error"&&U.jsxs(U.Fragment,{children:[U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:U.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Offline / Sync Error"]})]}),U.jsx(oE,{isOpen:ft,onClose:()=>ot(!1),currency:At,onCurrencyChange:s,lang:o,onLanguageChange:h}),U.jsx(uE,{isOpen:rt,onClose:()=>vt(!1),onConfirm:D,lang:o}),U.jsx("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-30",children:U.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"bg-indigo-600 rounded p-1",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),U.jsx("span",{className:"font-bold text-lg text-slate-800 tracking-tight",children:"MoneyEnvelopes"})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("button",{onClick:()=>ot(!0),className:"text-slate-500 hover:text-indigo-600 transition-colors p-2 rounded-full hover:bg-slate-100",title:y.settings,children:U.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:[U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),U.jsx("button",{onClick:()=>vt(!0),className:"text-sm text-slate-500 hover:text-red-600 font-medium transition-colors",children:y.reset})]})]})}),U.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[U.jsx("div",{className:"grid grid-cols-1 gap-6",children:U.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-100 flex flex-col md:flex-row justify-between items-center relative overflow-hidden gap-6",children:[U.jsxs("div",{className:"w-full md:w-2/3 z-10",children:[U.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:y.goalProgress}),U.jsxs("div",{className:"flex items-baseline gap-2 mb-6",children:[U.jsx("h2",{className:"text-5xl font-bold text-indigo-900",children:Pu(_,At)}),U.jsxs("span",{className:"text-slate-400 text-xl font-medium",children:["/ ",Pu(A,At)]})]}),U.jsxs("div",{className:"space-y-4",children:[U.jsx("div",{className:"relative h-6 bg-slate-100 rounded-full overflow-hidden shadow-inner",children:U.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-indigo-500 to-violet-500 rounded-full transition-all duration-700 ease-out flex items-center justify-end px-2",style:{width:`${v}%`},children:v>10&&U.jsxs("span",{className:"text-[10px] text-white font-bold",children:[v.toFixed(0),"%"]})})}),U.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[U.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[U.jsx("span",{className:"block text-slate-400 text-xs mb-1",children:y.remaining}),U.jsx("span",{className:"font-semibold text-slate-700 block",children:Pu(A-_,At)})]}),U.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[U.jsx("span",{className:"block text-slate-400 text-xs mb-1",children:y.envelopesOpened}),U.jsxs("span",{className:"font-semibold text-slate-700 block",children:[b," ",U.jsxs("span",{className:"text-slate-400 font-normal",children:["/ ",x]})]})]}),U.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[U.jsx("span",{className:"block text-slate-400 text-xs mb-1",children:y.progress}),U.jsxs("span",{className:"font-semibold text-indigo-600 block",children:[v.toFixed(1),"%"]})]})]})]})]}),U.jsx("div",{className:"hidden md:flex justify-center items-center w-1/3 h-full opacity-80",children:U.jsx("div",{className:"relative w-32 h-32 bg-indigo-50 rounded-full flex items-center justify-center",children:U.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-16 h-16 text-indigo-400",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})})})})]})}),U.jsx(lE,{unlockedIds:r.unlockedAchievements||[],lang:o}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[U.jsx("h3",{className:"text-xl font-bold text-slate-900",children:y.yourEnvelopes}),U.jsxs("div",{className:"flex gap-2",children:[U.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[U.jsx("button",{onClick:()=>J("default"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${Z==="default"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:"Default Day Order",children:"#"}),U.jsx("button",{onClick:()=>J("amount_asc"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${Z==="amount_asc"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,title:y.sortByAmount,children:"$$$"})]}),U.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[U.jsx("button",{onClick:()=>tt("all"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${H==="all"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:y.filterAll}),U.jsx("button",{onClick:()=>tt("closed"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${H==="closed"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:y.filterClosed}),U.jsx("button",{onClick:()=>tt("opened"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${H==="opened"?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:y.filterOpened})]})]})]}),U.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:dt.map(S=>U.jsx(sE,{envelope:S,onClick:e,currency:At,lang:o},S.id))}),dt.length===0&&U.jsx("div",{className:"text-center py-12 text-slate-400",children:y.emptyCategory})]})]})]})},hE=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},fE=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],y=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,y=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,A=h>>2,b=(h&3)<<4|y>>4;let x=(y&15)<<2|_>>6,H=_&63;v||(H=64,d||(x=64)),s.push(i[A],i[b],i[x],i[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(w0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):fE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||y==null||_==null||b==null)throw new dE;const x=h<<2|y>>4;if(s.push(x),_!==64){const H=y<<4&240|_>>2;if(s.push(H),b!==64){const tt=_<<6&192|b;s.push(tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mE=function(r){const e=w0(r);return C0.encodeByteArray(e,!0)},Ku=function(r){return mE(r).replace(/\./g,"")},gE=function(r){try{return C0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=()=>pE().__FIREBASE_DEFAULTS__,_E=()=>{if(typeof process>"u"||typeof py>"u")return;const r=py.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},vE=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gE(r[1]);return e&&JSON.parse(e)},rd=()=>{try{return hE()||yE()||_E()||vE()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},EE=r=>{var e,i;return(i=(e=rd())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},TE=r=>{const e=EE(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},D0=()=>{var r;return(r=rd())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ku(JSON.stringify(i)),Ku(JSON.stringify(d)),""].join(".")}const jl={};function RE(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function wE(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let yy=!1;function CE(r,e){if(typeof window>"u"||typeof document>"u"||!ld(window.location.host)||jl[r]===e||jl[r]||yy)return;jl[r]=e;function i(x){return`__firebase__banner__${x}`}const s="__firebase__banner",h=RE().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function y(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{yy=!0,d()},x}function A(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=wE(s),H=i("text"),tt=document.getElementById(H)||document.createElement("span"),Z=i("learnmore"),J=document.getElementById(Z)||document.createElement("a"),ft=i("preprendIcon"),ot=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const rt=x.element;y(rt),A(J,Z);const vt=_();v(ot,ft),rt.append(ot,tt,J,vt),document.body.appendChild(rt)}h?(tt.innerText="Preview backend disconnected.",ot.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ot.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xE(){var e;const r=(e=rd())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NE(){return!xE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VE(){try{return typeof indexedDB=="object"}catch{return!1}}function OE(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="FirebaseError";class Sr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=IE,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x0.prototype.create)}}class x0{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?ME(h,s):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new Sr(o,y,s)}}function ME(r,e){return r.replace(zE,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const zE=/\{\$([^}]+)}/g;function Zu(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(_y(h)&&_y(d)){if(!Zu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function _y(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(r){return r&&r._delegate?r._delegate:r}class Gl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new AE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jE(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);s===y&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LE(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LE(r){return r===hs?void 0:r}function jE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new UE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const kE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},PE=Ut.INFO,qE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},HE=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=qE[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N0{constructor(e){this.name=e,this._logLevel=PE,this._logHandler=HE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const GE=(r,e)=>e.some(i=>r instanceof i);let vy,Ey;function QE(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YE(){return Ey||(Ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,jf=new WeakMap,O0=new WeakMap,xf=new WeakMap,od=new WeakMap;function FE(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(ba(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&V0.set(i,r)}).catch(()=>{}),od.set(e,r),e}function XE(r){if(jf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});jf.set(r,e)}let Bf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return jf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||O0.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ba(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function KE(r){Bf=r(Bf)}function ZE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Nf(this),e,...i);return O0.set(s,e.sort?e.sort():[e]),ba(s)}:YE().includes(r)?function(...e){return r.apply(Nf(this),e),ba(V0.get(this))}:function(...e){return ba(r.apply(Nf(this),e))}}function JE(r){return typeof r=="function"?ZE(r):(r instanceof IDBTransaction&&XE(r),GE(r,QE())?new Proxy(r,Bf):r)}function ba(r){if(r instanceof IDBRequest)return FE(r);if(xf.has(r))return xf.get(r);const e=JE(r);return e!==r&&(xf.set(r,e),od.set(e,r)),e}const Nf=r=>od.get(r);function $E(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),y=ba(d);return s&&d.addEventListener("upgradeneeded",v=>{s(ba(d.result),v.oldVersion,v.newVersion,ba(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const WE=["get","getKey","getAll","getAllKeys","count"],tT=["put","add","delete","clear"],Vf=new Map;function Ty(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Vf.get(e))return Vf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=tT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WE.includes(i)))return;const h=async function(d,...y){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),o&&v.done]))[0]};return Vf.set(e,h),h}KE(r=>({...r,get:(e,i,s)=>Ty(e,i)||r.get(e,i,s),has:(e,i)=>!!Ty(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function nT(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kf="@firebase/app",Ay="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new N0("@firebase/app"),iT="@firebase/app-compat",aT="@firebase/analytics-compat",sT="@firebase/analytics",rT="@firebase/app-check-compat",lT="@firebase/app-check",oT="@firebase/auth",uT="@firebase/auth-compat",cT="@firebase/database",hT="@firebase/data-connect",fT="@firebase/database-compat",dT="@firebase/functions",mT="@firebase/functions-compat",gT="@firebase/installations",pT="@firebase/installations-compat",yT="@firebase/messaging",_T="@firebase/messaging-compat",vT="@firebase/performance",ET="@firebase/performance-compat",TT="@firebase/remote-config",AT="@firebase/remote-config-compat",ST="@firebase/storage",bT="@firebase/storage-compat",RT="@firebase/firestore",wT="@firebase/ai",CT="@firebase/firestore-compat",DT="firebase",xT="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",NT={[kf]:"fire-core",[iT]:"fire-core-compat",[sT]:"fire-analytics",[aT]:"fire-analytics-compat",[lT]:"fire-app-check",[rT]:"fire-app-check-compat",[oT]:"fire-auth",[uT]:"fire-auth-compat",[cT]:"fire-rtdb",[hT]:"fire-data-connect",[fT]:"fire-rtdb-compat",[dT]:"fire-fn",[mT]:"fire-fn-compat",[gT]:"fire-iid",[pT]:"fire-iid-compat",[yT]:"fire-fcm",[_T]:"fire-fcm-compat",[vT]:"fire-perf",[ET]:"fire-perf-compat",[TT]:"fire-rc",[AT]:"fire-rc-compat",[ST]:"fire-gcs",[bT]:"fire-gcs-compat",[RT]:"fire-fst",[CT]:"fire-fst-compat",[wT]:"fire-vertex","fire-js":"fire-js",[DT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,VT=new Map,qf=new Map;function Sy(r,e){try{r.container.addComponent(e)}catch(i){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wu(r){const e=r.name;if(qf.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;qf.set(e,r);for(const i of $u.values())Sy(i,r);for(const i of VT.values())Sy(i,r);return!0}function OT(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function IT(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new x0("app","Firebase",MT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=xT;function I0(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Pf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ra.create("bad-app-name",{appName:String(o)});if(i||(i=D0()),!i)throw Ra.create("no-options");const h=$u.get(o);if(h){if(Zu(i,h.options)&&Zu(s,h.config))return h;throw Ra.create("duplicate-app",{appName:o})}const d=new BE(o);for(const v of qf.values())d.addComponent(v);const y=new zT(i,s,d);return $u.set(o,y),y}function LT(r=Pf){const e=$u.get(r);if(!e&&r===Pf&&D0())return I0();if(!e)throw Ra.create("no-app",{appName:r});return e}function gr(r,e,i){let s=NT[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(d.join(" "));return}Wu(new Gl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firebase-heartbeat-database",BT=1,Ql="firebase-heartbeat-store";let Of=null;function M0(){return Of||(Of=$E(jT,BT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ra.create("idb-open",{originalErrorMessage:r.message})})),Of}async function kT(r){try{const i=(await M0()).transaction(Ql),s=await i.objectStore(Ql).get(z0(r));return await i.done,s}catch(e){if(e instanceof Sr)ki.warn(e.message);else{const i=Ra.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(i.message)}}}async function by(r,e){try{const s=(await M0()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,z0(r)),await s.done}catch(i){if(i instanceof Sr)ki.warn(i.message);else{const s=Ra.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ki.warn(s.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=1024,qT=30;class HT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QT(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Ry();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>qT){const d=YT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ki.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Ry(),{heartbeatsToSend:s,unsentEntries:o}=GT(this._heartbeatsCache.heartbeats),h=Ku(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return ki.warn(i),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function GT(r,e=PT){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),wy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),wy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class QT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VE()?OE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return by(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return by(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function wy(r){return Ku(JSON.stringify({version:2,heartbeats:r})).length}function YT(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(r){Wu(new Gl("platform-logger",e=>new eT(e),"PRIVATE")),Wu(new Gl("heartbeat",e=>new HT(e),"PRIVATE")),gr(kf,Ay,r),gr(kf,Ay,"esm2020"),gr("fire-js","")}FT("");var XT="firebase",KT="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(XT,KT,"app");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,U0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function C(){}C.prototype=S.prototype,D.F=S.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(I,V,z){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return S.prototype[V].apply(I,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,C){C||(C=0);const I=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)I[V]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(V=0;V<16;++V)I[V]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=D.g[0],C=D.g[1],V=D.g[2];let z=D.g[3],R;R=S+(z^C&(V^z))+I[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(V^S&(C^V))+I[1]+3905402710&4294967295,z=S+(R<<12&4294967295|R>>>20),R=V+(C^z&(S^C))+I[2]+606105819&4294967295,V=z+(R<<17&4294967295|R>>>15),R=C+(S^V&(z^S))+I[3]+3250441966&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(z^C&(V^z))+I[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(V^S&(C^V))+I[5]+1200080426&4294967295,z=S+(R<<12&4294967295|R>>>20),R=V+(C^z&(S^C))+I[6]+2821735955&4294967295,V=z+(R<<17&4294967295|R>>>15),R=C+(S^V&(z^S))+I[7]+4249261313&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(z^C&(V^z))+I[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(V^S&(C^V))+I[9]+2336552879&4294967295,z=S+(R<<12&4294967295|R>>>20),R=V+(C^z&(S^C))+I[10]+4294925233&4294967295,V=z+(R<<17&4294967295|R>>>15),R=C+(S^V&(z^S))+I[11]+2304563134&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(z^C&(V^z))+I[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=z+(V^S&(C^V))+I[13]+4254626195&4294967295,z=S+(R<<12&4294967295|R>>>20),R=V+(C^z&(S^C))+I[14]+2792965006&4294967295,V=z+(R<<17&4294967295|R>>>15),R=C+(S^V&(z^S))+I[15]+1236535329&4294967295,C=V+(R<<22&4294967295|R>>>10),R=S+(V^z&(C^V))+I[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^V&(S^C))+I[6]+3225465664&4294967295,z=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(z^S))+I[11]+643717713&4294967295,V=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(V^z))+I[0]+3921069994&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(V^z&(C^V))+I[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^V&(S^C))+I[10]+38016083&4294967295,z=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(z^S))+I[15]+3634488961&4294967295,V=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(V^z))+I[4]+3889429448&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(V^z&(C^V))+I[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^V&(S^C))+I[14]+3275163606&4294967295,z=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(z^S))+I[3]+4107603335&4294967295,V=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(V^z))+I[8]+1163531501&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(V^z&(C^V))+I[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=z+(C^V&(S^C))+I[2]+4243563512&4294967295,z=S+(R<<9&4294967295|R>>>23),R=V+(S^C&(z^S))+I[7]+1735328473&4294967295,V=z+(R<<14&4294967295|R>>>18),R=C+(z^S&(V^z))+I[12]+2368359562&4294967295,C=V+(R<<20&4294967295|R>>>12),R=S+(C^V^z)+I[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^V)+I[8]+2272392833&4294967295,z=S+(R<<11&4294967295|R>>>21),R=V+(z^S^C)+I[11]+1839030562&4294967295,V=z+(R<<16&4294967295|R>>>16),R=C+(V^z^S)+I[14]+4259657740&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(C^V^z)+I[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^V)+I[4]+1272893353&4294967295,z=S+(R<<11&4294967295|R>>>21),R=V+(z^S^C)+I[7]+4139469664&4294967295,V=z+(R<<16&4294967295|R>>>16),R=C+(V^z^S)+I[10]+3200236656&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(C^V^z)+I[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^V)+I[0]+3936430074&4294967295,z=S+(R<<11&4294967295|R>>>21),R=V+(z^S^C)+I[3]+3572445317&4294967295,V=z+(R<<16&4294967295|R>>>16),R=C+(V^z^S)+I[6]+76029189&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(C^V^z)+I[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=z+(S^C^V)+I[12]+3873151461&4294967295,z=S+(R<<11&4294967295|R>>>21),R=V+(z^S^C)+I[15]+530742520&4294967295,V=z+(R<<16&4294967295|R>>>16),R=C+(V^z^S)+I[2]+3299628645&4294967295,C=V+(R<<23&4294967295|R>>>9),R=S+(V^(C|~z))+I[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~V))+I[7]+1126891415&4294967295,z=S+(R<<10&4294967295|R>>>22),R=V+(S^(z|~C))+I[14]+2878612391&4294967295,V=z+(R<<15&4294967295|R>>>17),R=C+(z^(V|~S))+I[5]+4237533241&4294967295,C=V+(R<<21&4294967295|R>>>11),R=S+(V^(C|~z))+I[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~V))+I[3]+2399980690&4294967295,z=S+(R<<10&4294967295|R>>>22),R=V+(S^(z|~C))+I[10]+4293915773&4294967295,V=z+(R<<15&4294967295|R>>>17),R=C+(z^(V|~S))+I[1]+2240044497&4294967295,C=V+(R<<21&4294967295|R>>>11),R=S+(V^(C|~z))+I[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~V))+I[15]+4264355552&4294967295,z=S+(R<<10&4294967295|R>>>22),R=V+(S^(z|~C))+I[6]+2734768916&4294967295,V=z+(R<<15&4294967295|R>>>17),R=C+(z^(V|~S))+I[13]+1309151649&4294967295,C=V+(R<<21&4294967295|R>>>11),R=S+(V^(C|~z))+I[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=z+(C^(S|~V))+I[11]+3174756917&4294967295,z=S+(R<<10&4294967295|R>>>22),R=V+(S^(z|~C))+I[2]+718787259&4294967295,V=z+(R<<15&4294967295|R>>>17),R=C+(z^(V|~S))+I[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+z&4294967295}s.prototype.v=function(D,S){S===void 0&&(S=D.length);const C=S-this.blockSize,I=this.C;let V=this.h,z=0;for(;z<S;){if(V==0)for(;z<=C;)o(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<S;)if(I[V++]=D.charCodeAt(z++),V==this.blockSize){o(this,I),V=0;break}}else for(;z<S;)if(I[V++]=D[z++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=S},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,C=0;C<4;++C)for(let I=0;I<32;I+=8)D[S++]=this.g[C]>>>I&255;return D};function h(D,S){var C=y;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=S(D)}function d(D,S){this.h=S;const C=[];let I=!0;for(let V=D.length-1;V>=0;V--){const z=D[V]|0;I&&z==S||(C[V]=z,I=!1)}this.g=C}var y={};function v(D){return-128<=D&&D<128?h(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return J(_(-D));const S=[];let C=1;for(let I=0;D>=C;I++)S[I]=D/C|0,C*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return J(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(S,8));let I=b;for(let z=0;z<D.length;z+=8){var V=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+V),S);V<8?(V=_(Math.pow(S,V)),I=I.j(V).add(_(R))):(I=I.j(C),I=I.add(_(R)))}return I}var b=v(0),x=v(1),H=v(16777216);r=d.prototype,r.m=function(){if(Z(this))return-J(this).m();let D=0,S=1;for(let C=0;C<this.g.length;C++){const I=this.i(C);D+=(I>=0?I:4294967296+I)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(tt(this))return"0";if(Z(this))return"-"+J(this).toString(D);const S=_(Math.pow(D,6));var C=this;let I="";for(;;){const V=vt(C,S).g;C=ft(C,V.j(S));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=V,tt(C))return z+I;for(;z.length<6;)z="0"+z;I=z+I}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function tt(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function Z(D){return D.h==-1}r.l=function(D){return D=ft(this,D),Z(D)?-1:tt(D)?0:1};function J(D){const S=D.g.length,C=[];for(let I=0;I<S;I++)C[I]=~D.g[I];return new d(C,~D.h).add(x)}r.abs=function(){return Z(this)?J(this):this},r.add=function(D){const S=Math.max(this.g.length,D.g.length),C=[];let I=0;for(let V=0;V<=S;V++){let z=I+(this.i(V)&65535)+(D.i(V)&65535),R=(z>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);I=R>>>16,z&=65535,R&=65535,C[V]=R<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(D,S){return D.add(J(S))}r.j=function(D){if(tt(this)||tt(D))return b;if(Z(this))return Z(D)?J(this).j(J(D)):J(J(this).j(D));if(Z(D))return J(this.j(J(D)));if(this.l(H)<0&&D.l(H)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,C=[];for(var I=0;I<2*S;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(let V=0;V<D.g.length;V++){const z=this.i(I)>>>16,R=this.i(I)&65535,ee=D.i(V)>>>16,Re=D.i(V)&65535;C[2*I+2*V]+=R*Re,ot(C,2*I+2*V),C[2*I+2*V+1]+=z*Re,ot(C,2*I+2*V+1),C[2*I+2*V+1]+=R*ee,ot(C,2*I+2*V+1),C[2*I+2*V+2]+=z*ee,ot(C,2*I+2*V+2)}for(D=0;D<S;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=S;D<2*S;D++)C[D]=0;return new d(C,0)};function ot(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function rt(D,S){this.g=D,this.h=S}function vt(D,S){if(tt(S))throw Error("division by zero");if(tt(D))return new rt(b,b);if(Z(D))return S=vt(J(D),S),new rt(J(S.g),J(S.h));if(Z(S))return S=vt(D,J(S)),new rt(J(S.g),S.h);if(D.g.length>30){if(Z(D)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var C=x,I=S;I.l(D)<=0;)C=dt(C),I=dt(I);var V=At(C,1),z=At(I,1);for(I=At(I,2),C=At(C,2);!tt(I);){var R=z.add(I);R.l(D)<=0&&(V=V.add(C),z=R),I=At(I,1),C=At(C,1)}return S=ft(D,V.j(S)),new rt(V,S)}for(V=b;D.l(S)>=0;){for(C=Math.max(1,Math.floor(D.m()/S.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),z=_(C),R=z.j(S);Z(R)||R.l(D)>0;)C-=I,z=_(C),R=z.j(S);tt(z)&&(z=x),V=V.add(z),D=ft(D,R)}return new rt(V,D)}r.B=function(D){return vt(this,D).h},r.and=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<S;I++)C[I]=this.i(I)&D.i(I);return new d(C,this.h&D.h)},r.or=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<S;I++)C[I]=this.i(I)|D.i(I);return new d(C,this.h|D.h)},r.xor=function(D){const S=Math.max(this.g.length,D.g.length),C=[];for(let I=0;I<S;I++)C[I]=this.i(I)^D.i(I);return new d(C,this.h^D.h)};function dt(D){const S=D.g.length+1,C=[];for(let I=0;I<S;I++)C[I]=D.i(I)<<1|D.i(I-1)>>>31;return new d(C,D.h)}function At(D,S){const C=S>>5;S%=32;const I=D.g.length-C,V=[];for(let z=0;z<I;z++)V[z]=S>0?D.i(z+C)>>>S|D.i(z+C+1)<<32-S:D.i(z+C);return new d(V,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,U0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,wa=d}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L0,Ml,j0,qu,Hf,B0,k0,P0;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof zu=="object"&&zu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function A(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(T,L,P){for(var W=Array(arguments.length-2),St=2;St<arguments.length;St++)W[St-2]=arguments[St];return m.prototype[L].apply(T,W)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var p=typeof L;if(p=p!="object"?p:L?Array.isArray(L)?"array":p:"null",p=="array"||p=="object"&&typeof L.length=="number"){p=u.length||0;const P=L.length||0;u.length=p+P;for(let W=0;W<P;W++)u[p+W]=L[W]}else u.push(L)}}class Z{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ot{constructor(){this.h=this.g=null}add(m,p){const T=rt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var rt=new Z(()=>new vt,u=>u.reset());class vt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let dt,At=!1,D=new ot,S=()=>{const u=Promise.resolve(void 0);dt=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(p){J(p)}var m=rt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}At=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ee,V),ee.prototype.init=function(u,m){const p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),Q=0;function et(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function Ht(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function O(u){const m={};for(const p in u)m[p]=u[p];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let P=0;P<X.length;P++)p=X[P],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,p,T,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const W=Rt(u,m,T,L);return W>-1?(m=u[W],p||(m.fa=!1)):(m=new et(m,this.src,P,!!T,L),m.fa=p,u.push(m)),m};function yt(u,m){const p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(T,L,1),P&&(ht(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Rt(u,m,p,T){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return L}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),we={};function ne(u,m,p,T,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ne(u,m[P],p,T,L);return null}return p=Nr(p),u&&u[Re]?u.J(m,p,y(T)?!!T.capture:!1,L):Ma(u,m,p,!1,T,L)}function Ma(u,m,p,T,L,P){if(!m)throw Error("Invalid event type");const W=y(L)?!!L.capture:!!L;let St=za(u);if(St||(u[Mt]=St=new at(u)),p=St.add(m,p,T,W,P),p.proxy)return p;if(T=Ts(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)z||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Qn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Ts(){function u(p){return m.call(u.src,u.listener,p)}const m=Dr;return u}function As(u,m,p,T,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)As(u,m[P],p,T,L);else T=y(T)?!!T.capture:!!T,p=Nr(p),u&&u[Re]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],p=Rt(m,p,T,L),p>-1&&(ht(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=za(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,p,T,L)),(p=u>-1?m[u]:null)&&Ss(p))}function Ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])yt(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Qn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=za(m))?(yt(p,u),p.h==0&&(p.src=null,m[Mt]=null)):ht(u)}}}function Qn(u){return u in we?we[u]:we[u]="on"+u}function Dr(u,m){if(u.da)u=!0;else{m=new ee(m,this);const p=u.listener,T=u.ha||u.src;u.fa&&Ss(u),u=p.call(T,m)}return u}function za(u){return u=u[Mt],u instanceof at?u:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Nr(u){return typeof u=="function"?u:(u[xr]||(u[xr]=function(m){return u.handleEvent(m)}),u[xr])}function me(){I.call(this),this.i=new at(this),this.M=this,this.G=null}b(me,I),me.prototype[Re]=!0,me.prototype.removeEventListener=function(u,m,p,T){As(this,u,m,p,T)};function Ce(u,m){var p,T=u.G;if(T)for(p=[];T;T=T.G)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var L=m;m=new V(T,u),nt(m,L)}L=!0;let P,W;if(p)for(W=p.length-1;W>=0;W--)P=m.g=p[W],L=Hi(P,T,!0,m)&&L;if(P=m.g=u,L=Hi(P,T,!0,m)&&L,L=Hi(P,T,!1,m)&&L,p)for(W=0;W<p.length;W++)P=m.g=p[W],L=Hi(P,T,!1,m)&&L}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let T=0;T<p.length;T++)ht(p[T]);delete u.g[m],u.h--}}this.G=null},me.prototype.J=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},me.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function Hi(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const W=m[P];if(W&&!W.da&&W.capture==p){const St=W.listener,ce=W.ha||W.src;W.fa&&yt(u.i,W),L=St.call(ce,T)!==!1&&L}}return L&&!T.defaultPrevented}function bc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function so(u){u.g=bc(()=>{u.g=null,u.i&&(u.i=!1,so(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends I{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:so(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(u){I.call(this),this.h=u,this.g={}}b(Ua,I);var Vr=[];function Or(u){Lt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ss(m)},u),u.g={}}Ua.prototype.N=function(){Ua.Z.N.call(this),Or(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=d.JSON.stringify,Rc=d.JSON.parse,ro=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function lo(){}function oo(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Le(){V.call(this,"d")}b(Le,V);function yn(){V.call(this,"c")}b(yn,V);var ue={},uo=null;function bs(){return uo=uo||new me}ue.Ia="serverreachability";function co(u){V.call(this,ue.Ia,u)}b(co,V);function Yn(u){const m=bs();Ce(m,new co(m))}ue.STAT_EVENT="statevent";function La(u,m){V.call(this,ue.STAT_EVENT,u),this.stat=m}b(La,V);function ge(u){const m=bs();Ce(m,new La(m,u))}ue.Ja="timingevent";function Fn(u,m){V.call(this,ue.Ja,u),this.size=m}b(Fn,V);function Xn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function wc(u,m,p,T,L,P){u.info(function(){if(u.g)if(P){var W="",St=P.split("&");for(let kt=0;kt<St.length;kt++){var ce=St[kt].split("=");if(ce.length>1){const ie=ce[0];ce=ce[1];const Tn=ie.split("_");W=Tn.length>=2&&Tn[1]=="type"?W+(ie+"="+ce+"&"):W+(ie+"=redacted&")}}}else W=null;else W=P;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+W})}function ho(u,m,p,T,L,P,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+P+" "+W})}function Kn(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Cc(u,p)+(T?" "+T:"")})}function ja(u,m){u.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function Cc(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var p=P[u];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return Gi(P)}catch{return m}}var Ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ir={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mr;function ka(){}b(ka,lo),ka.prototype.g=function(){return new XMLHttpRequest},Mr=new ka;function Ei(u){return encodeURIComponent(String(u))}function fo(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function Mn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.S=T||1,this.V=new Ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var pe={},Oe={};function Zn(u,m,p){u.M=1,u.A=Pa(_e(m)),u.u=p,u.R=!0,Rs(u,null)}function Rs(u,m){u.F=Date.now(),Jn(u),u.B=_e(u.A);var p=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),xs(p.i,"t",T),u.C=0,p=u.j.L,u.h=new zn,u.g=Do(u.j,p?m:null,!u.u),u.P>0&&(u.O=new Ze(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Vr[0]=L.toString()),L=Vr);for(let P=0;P<L.length;P++){const W=ne(p,L[P],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Yn(),wc(u.i,u.v,u.B,u.l,u.S,u.u)}Mn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)t:{const St=jn(this.g),ce=this.g.ya(),kt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||ce==7||(ce==8||kt<=0?Yn(3):Yn(2)),$n(this);var m=this.g.ca();this.X=m;var p=Dc(this);if(this.o=m==200,ho(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var P=T;break e}}P=null}if(u=P)Kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wn(this,u);else{this.o=!1,this.m=3,ge(12),on(this),_n(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<p.length;)if(ie=go(this,p),ie==Oe){St==4&&(this.m=4,ge(14),u=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==pe){this.m=4,ge(15),Kn(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Kn(this.i,this.l,ie,null),Wn(this,ie);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||p.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Kn(this.i,this.l,p,"[Invalid Chunked Response]"),on(this),_n(this);else if(p.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Kr(W),W.P=!0,ge(11))}}else Kn(this.i,this.l,p,null),Wn(this,p);St==4&&on(this),this.o&&!this.K&&(St==4?bo(this.j,this):(this.o=!1,Jn(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),on(this),_n(this)}}}catch{}finally{}};function Dc(u){if(!mo(u))return u.g.la();const m=je(u.g);if(m==="")return"";let p="";const T=m.length,L=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return on(u),_n(u),"";u.h.i=new d.TextDecoder}for(let P=0;P<T;P++)u.h.h=!0,p+=u.h.i.decode(m[P],{stream:!(L&&P==T-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function mo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function go(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Oe:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Oe:(m=m.slice(T,T+p),u.C=T+p,m)))}Mn.prototype.cancel=function(){this.K=!0,on(this)};function Jn(u){u.T=Date.now()+u.H,ws(u,u.H)}function ws(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Xn(_(u.aa,u),m)}function $n(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ja(this.i,this.B),this.M!=2&&(Yn(),ge(17)),on(this),this.m=2,_n(this)):ws(this,this.T-u)};function _n(u){u.j.I==0||u.K||bo(u.j,u)}function on(u){$n(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Or(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Wn(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||ei(p.h,u))){if(!u.L&&ei(p.h,u)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)Ms(p),$i(p);else break t;Xa(p),ge(18)}}else p.xa=L[1],0<p.xa-p.K&&L[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Xn(_(p.Va,p),6e3));ti(p.h)<=1&&p.ta&&(p.ta=void 0)}else li(p,11)}else if((u.L||p.g==u)&&Ms(p),!R(m))for(L=p.Ba.g.parse(m),m=0;m<L.length;m++){let kt=L[m];const ie=kt[0];if(!(ie<=p.K))if(p.K=ie,kt=kt[1],p.I==2)if(kt[0]=="c"){p.M=kt[1],p.ba=kt[2];const Tn=kt[3];Tn!=null&&(p.ka=Tn,p.j.info("VER="+p.ka));const oi=kt[4];oi!=null&&(p.za=oi,p.j.info("SVER="+p.za));const Bn=kt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const kn=u.g;if(kn){const Ka=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var P=T.h;P.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Lr(P,P.h),P.h=null))}if(T.G){const zs=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;zs&&(T.wa=zs,Gt(T.J,T.G,zs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var W=u;if(T.na=Co(T,T.L?T.ba:null,T.W),W.L){jr(T.h,W);var St=W,ce=T.O;ce&&(St.H=ce),St.D&&($n(St),Jn(St)),T.g=W}else Ao(T);p.i.length>0&&ri(p)}else kt[0]!="stop"&&kt[0]!="close"||li(p,7);else p.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?li(p,7):Fr(p):kt[0]!="noop"&&p.l&&p.l.qa(kt),p.A=0)}}Yn(4)}catch{}}var ye=class{constructor(u,m){this.g=u,this.map=m}};function zr(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ur(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ti(u){return u.h?1:u.g?u.g.size:0}function ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Lr(u,m){u.g?u.g.add(m):u.h=m}function jr(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}zr.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Br(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return H(u.i)}var po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cs(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const T=u[p].indexOf("=");let L,P=null;T>=0?(L=u[p].substring(0,T),P=u[p].substring(T+1)):L=u[p],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof un?(this.l=u.l,Ie(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.u),this.h=u.h,kr(this,Eo(u.i)),this.m=u.m):u&&(m=String(u).match(po))?(this.l=!1,Ie(this,m[1]||"",!0),this.o=ni(m[2]||""),this.g=ni(m[3]||"",!0),Qi(this,m[4]),this.h=ni(m[5]||"",!0),kr(this,m[6]||"",!0),this.m=ni(m[7]||"")):(this.l=!1,this.i=new Fi(null,this.l))}un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(qa(m,Ds,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(qa(m,Ds,!0),"@"),u.push(Ei(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(qa(p,p.charAt(0)=="/"?Pr:yo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",qa(p,_o)),u.join("")},un.prototype.resolve=function(u){const m=_e(this);let p=!!u.j;p?Ie(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var T=u.h;if(p)Qi(m,u.u);else if(p=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let W=0;W<L.length;){const St=L[W++];St=="."?T&&W==L.length&&P.push(""):St==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&W==L.length&&P.push("")):(P.push(St),T=!0)}T=P.join("/")}else T=L}return p?m.h=T:p=u.i.toString()!=="",p?kr(m,Eo(u.i)):p=!!u.m,p&&(m.m=u.m),m};function _e(u){return new un(u)}function Ie(u,m,p){u.j=p?ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function kr(u,m,p){m instanceof Fi?(u.i=m,Ns(u.i,u.l)):(p||(m=qa(m,Yi)),u.i=new Fi(m,u.l))}function Gt(u,m,p){u.i.set(m,p)}function Pa(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qa(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,We),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function We(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ds=/[#\/\?@]/g,yo=/[#\?:]/g,Pr=/[#\?]/g,Yi=/[#\?@]/g,_o=/#/g;function Fi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Cs(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Fi.prototype,r.add=function(u,m){tn(this),this.i=null,u=Xi(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function vo(u,m){tn(u),m=Xi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function qr(u,m){return tn(u),m=Xi(u,m),u.g.has(m)}r.forEach=function(u,m){tn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Hr(u,m){tn(u);let p=[];if(typeof m=="string")qr(u,m)&&(p=p.concat(u.g.get(Xi(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return tn(this),this.i=null,u=Xi(this,u),qr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Hr(this,u),u.length>0?String(u[0]):m):m};function xs(u,m,p){vo(u,m),p.length>0&&(u.i=null,u.g.set(Xi(u,m),H(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const L=Ei(p);p=Hr(this,p);for(let P=0;P<p.length;P++){let W=L;p[P]!==""&&(W+="="+Ei(p[P])),u.push(W)}}return this.i=u.join("&")};function Eo(u){const m=new Fi;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Xi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ns(u,m){m&&!u.j&&(tn(u),u.i=null,u.g.forEach(function(p,T){const L=T.toLowerCase();T!=L&&(vo(this,T),xs(this,L,p))},u)),u.j=m}function Un(u,m){const p=new In;if(d.Image){const T=new Image;T.onload=A(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(vn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Gr(u,m){const p=new In,T=new AbortController,L=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(P=>{clearTimeout(L),P.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Ki(){this.g=new ro}function ii(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ii,lo),ii.prototype.g=function(){return new Ha(this.i,this.h)};function Ha(u,m){me.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ha,me),r=Ha.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ln(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zi(this):Ln(this),this.readyState==3&&Vs(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Zi(this))},r.Na=function(u){this.g&&(this.response=u,Zi(this))},r.ga=function(){this.g&&Zi(this)};function Zi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ln(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function En(u){let m="";return Lt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ga(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=En(p),typeof u=="string"?p!=null&&Ei(p):Gt(u,m,p))}function Ft(u){me.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ft,me);var ai=/^https?$/i,Qr=["POST","PUT"];r=Ft.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mr.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){Qa(this,P);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Qr,m,void 0)>=0)||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,W]of p)this.g.setRequestHeader(P,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){Qa(this,P)}};function Qa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Yr(u),Ti(u)}function Yr(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Ft.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ya(this):this.Xa())},r.Xa=function(){Ya(this)};function Ya(u){if(u.h&&typeof h<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),jn(u)==4){u.h=!1;try{const P=u.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let W=String(u.D).match(po)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!ai.test(W?W.toLowerCase():"")}p=T}if(p)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var L=jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Yr(u)}}finally{Ti(u)}}}}function Ti(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ce(u,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rc(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var p=fo(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[L]||[];m[L]=P,P.push(p)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Ji(u){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=si("baseRetryDelayMs",5e3,u),this.Za=si("retryDelaySeedMs",1e4,u),this.Ta=si("forwardChannelMaxRetries",2,u),this.va=si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new zr(u&&u.concurrentRequestLimit),this.Ba=new Ki,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ji.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,T){ge(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Co(this,null,this.W),ri(this)};function Fr(u){if(Os(u),u.I==3){var m=u.V++,p=_e(u.J);if(Gt(p,"SID",u.M),Gt(p,"RID",m),Gt(p,"TYPE","terminate"),Fa(u,p),m=new Mn(u,u.j,m),m.M=2,m.A=Pa(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Do(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Jn(m)}wo(u)}function $i(u){u.g&&(Kr(u),u.g.cancel(),u.g=null)}function Os(u){$i(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ms(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ri(u){if(!Ur(u.h)&&!u.m){u.m=!0;var m=u.Ea;dt||S(),At||(dt(),At=!0),D.add(m,u),u.D=0}}function Is(u,m){return ti(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Xn(_(u.Ea,u,m),Ro(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Mn(this,this.j,u);let P=this.o;if(this.U&&(P?(P=O(P),nt(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=To(this,L,m),p=_e(this.J),Gt(p,"RID",u),Gt(p,"CVER",22),this.G&&Gt(p,"X-HTTP-Session-Id",this.G),Fa(this,p),P&&(this.R?m="headers="+Ei(En(P))+"&"+m:this.u&&Ga(p,this.u,P)),Lr(this.h,L),this.Ra&&Gt(p,"TYPE","init"),this.S?(Gt(p,"$req",m),Gt(p,"SID","null"),L.U=!0,Zn(L,p,null)):Zn(L,p,m),this.I=2}}else this.I==3&&(u?Xr(this,u):this.i.length==0||Ur(this.h)||Xr(this))};function Xr(u,m){var p;m?p=m.l:p=u.V++;const T=_e(u.J);Gt(T,"SID",u.M),Gt(T,"RID",p),Gt(T,"AID",u.K),Fa(u,T),u.u&&u.o&&Ga(T,u.u,u.o),p=new Mn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=To(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Lr(u.h,p),Zn(p,T,m)}function Fa(u,m){u.H&&Lt(u.H,function(p,T){Gt(m,T,p)}),u.l&&Lt({},function(p,T){Gt(m,T,p)})}function To(u,m,p){p=Math.min(u.i.length,p);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const ce=["count="+p];St==-1?p>0?(St=L[0].g,ce.push("ofs="+St)):St=0:ce.push("ofs="+St);let kt=!0;for(let ie=0;ie<p;ie++){var P=L[ie].g;const Tn=L[ie].map;if(P-=St,P<0)St=Math.max(0,L[ie].g-100),kt=!1;else try{P="req"+P+"_"||"";try{var W=Tn instanceof Map?Tn:Object.entries(Tn);for(const[oi,Bn]of W){let kn=Bn;y(Bn)&&(kn=Gi(Bn)),ce.push(P+oi+"="+encodeURIComponent(kn))}}catch(oi){throw ce.push(P+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(Tn)}}if(kt){W=ce.join("&");break t}}W=void 0}return u=u.i.splice(0,p),m.G=u,W}function Ao(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;dt||S(),At||(dt(),At=!0),D.add(m,u),u.A=0}}function Xa(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Xn(_(u.Da,u),Ro(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,So(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Xn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),$i(this),So(this))};function Kr(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function So(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=_e(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Fa(u,m),u.u&&u.o&&Ga(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Pa(_e(m)),p.u=null,p.R=!0,Rs(p,u)}r.Va=function(){this.C!=null&&(this.C=null,$i(this),Xa(this),ge(19))};function Ms(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function bo(u,m){var p=null;if(u.g==m){Ms(u),Kr(u),u.g=null;var T=2}else if(ei(u.h,m))p=m.G,jr(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=bs(),Ce(T,new Fn(T,p)),ri(u)}else Ao(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Is(u,m)||T==2&&Xa(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),L){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}}function Ro(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function li(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),T=u.Ua;const L=!T;T=new un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ie(T,"https"),Pa(T),L?Un(T.toString(),p):Gr(T.toString(),p)}else ge(2);u.I=0,u.l&&u.l.pa(m),wo(u),Os(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function wo(u){if(u.I=0,u.ja=[],u.l){const m=Br(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function Co(u,m,p){var T=p instanceof un?_e(p):new un(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new un(null);T&&Ie(P,T),m&&(P.g=m),L&&Qi(P,L),p&&(P.h=p),T=P}return p=u.G,m=u.wa,p&&m&&Gt(T,p,m),Gt(T,"VER",u.ka),Fa(u,T),T}function Do(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Ft(new ii({ab:p})):new Ft(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}r=xo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Wi(){}Wi.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){me.call(this),this.g=new Ji(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Si(this)}b(Je,me),Je.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Fr(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Gi(u),u=p);m.i.push(new ye(m.Ya++,u)),m.I==3&&ri(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Fr(this.g),delete this.g,Je.Z.N.call(this)};function No(u){Le.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(No,Le);function Vo(){yn.call(this),this.status=1}b(Vo,yn);function Si(u){this.g=u}b(Si,xo),Si.prototype.ra=function(){Ce(this.g,"a")},Si.prototype.qa=function(u){Ce(this.g,new No(u))},Si.prototype.pa=function(u){Ce(this.g,new Vo)},Si.prototype.oa=function(){Ce(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,P0=function(){return new Wi},k0=function(){return bs()},B0=ue,Hf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ba.NO_ERROR=0,Ba.TIMEOUT=8,Ba.HTTP_ERROR=6,qu=Ba,Ir.COMPLETE="complete",j0=Ir,oo.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",me.prototype.listen=me.prototype.J,Ml=oo,Ft.prototype.listenOnce=Ft.prototype.K,Ft.prototype.getLastError=Ft.prototype.Ha,Ft.prototype.getLastErrorCode=Ft.prototype.ya,Ft.prototype.getStatus=Ft.prototype.ca,Ft.prototype.getResponseJson=Ft.prototype.La,Ft.prototype.getResponseText=Ft.prototype.la,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Fa,L0=Ft}).apply(typeof zu<"u"?zu:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",xy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let br="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new N0("@firebase/firestore");function hr(){return ms.logLevel}function it(r,...e){if(ms.logLevel<=Ut.DEBUG){const i=e.map(ud);ms.debug(`Firestore (${br}): ${r}`,...i)}}function Pi(r,...e){if(ms.logLevel<=Ut.ERROR){const i=e.map(ud);ms.error(`Firestore (${br}): ${r}`,...i)}}function yr(r,...e){if(ms.logLevel<=Ut.WARN){const i=e.map(ud);ms.warn(`Firestore (${br}): ${r}`,...i)}}function ud(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,q0(r,s,i)}function q0(r,e,i){let s=`FIRESTORE (${br}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Pi(s),new Error(s)}function qt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||q0(e,o,s)}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Sr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class JT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $T{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ca,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ca)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new H0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string",2055,{h:e}),new Xe(e)}}class WT{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t2{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new WT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ny{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,IT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0,3512);const s=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ny(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ny(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=n2(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Vt(r,e){return r<e?-1:r>e?1:0}function Gf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return If(o)===If(h)?Vt(o,h):If(o)?1:-1}return Vt(r.length,e.length)}const i2=55296,a2=57343;function If(r){const e=r.charCodeAt(0);return e>=i2&&e<=a2}function _r(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class di{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=di.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const s=di.isNumericId(e),o=di.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(i)):Gf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class se extends di{construct(e,i,s){return new se(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends di{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return s2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new Ge([Vy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const y=e[o];if(y==="\\"){if(o+1===e.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(s+=y,o++):(h(),o++)}if(h(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(se.fromString(e))}static fromName(e){return new mt(se.fromString(e).popFirst(5))}static empty(){return new mt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new se(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r,e,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function l2(r,e,i,s){if(e===!0&&s===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Oy(r){if(!mt.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function G0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function hd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Yl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=hd(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e){const i={typeString:r};return e&&(i.value=e),i}function to(r,e){if(!G0(r))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=-62135596800,My=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*My);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Iy)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/My}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(to(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Iy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:be("string",te._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new te(0,0))}static max(){return new _t(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function o2(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Da(o,mt.empty(),e)}function u2(r){return new Da(r.readTime,r.key,Fl)}class Da{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Da(_t.min(),mt.empty(),Fl)}static max(){return new Da(_t.max(),mt.empty(),Fl)}}function c2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rr(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==h2)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,s)=>{i(e)}))}static reject(e){return new K(((i,s)=>{s(e)}))}static waitFor(e){return new K(((i,s)=>{let o=0,h=0,d=!1;e.forEach((y=>{++o,y.next((()=>{++h,d&&h===o&&i()}),(v=>s(v)))})),d=!0,h===o&&i()}))}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next((o=>o?K.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new K(((s,o)=>{const h=e.length,d=new Array(h);let y=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===h&&s(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new K(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function d2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function dc(r){return r==null}function tc(r){return r===0&&1/r==-1/0}function m2(r){return typeof r=="number"&&Number.isInteger(r)&&!tc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="";function g2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=zy(e)),e=p2(r.get(i),e);return zy(e)}function p2(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case Q0:i+="";break;default:i+=h}}return i}function zy(r){return r+Q0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function ys(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Y0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new He(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(e){return new Ly(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class Ly{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Ve(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return _r(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new F0("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(r){if(qt(!!r,39018),typeof r=="string"){let e=0;const i=y2.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Na(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="server_timestamp",K0="__type__",Z0="__previous_value__",J0="__local_write_time__";function dd(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[K0])==null?void 0:s.stringValue)===X0}function mc(r){const e=r.mapValue.fields[Z0];return dd(e)?mc(e):e}function Xl(r){const e=xa(r.mapValue.fields[J0].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,i,s,o,h,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ec="(default)";class Kl{constructor(e,i){this.projectId=e,this.database=i||ec}static empty(){return new Kl("","")}get isDefaultDatabase(){return this.database===ec}isEqual(e){return e instanceof Kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__type__",v2="__max__",Lu={mapValue:{}},W0="__vector__",nc="value";function Va(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dd(r)?4:T2(r)?9007199254740991:E2(r)?10:11:pt(28295,{value:r})}function _i(r,e){if(r===e)return!0;const i=Va(r);if(i!==Va(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=xa(o.timestampValue),y=xa(h.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Na(o.bytesValue).isEqual(Na(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),y=de(h.doubleValue);return d===y?tc(d)===tc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return _r(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},y=h.mapValue.fields||{};if(Uy(d)!==Uy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!_i(d[v],y[v])))return!1;return!0})(r,e);default:return pt(52216,{left:r})}}function Zl(r,e){return(r.values||[]).find((i=>_i(i,e)))!==void 0}function vr(r,e){if(r===e)return 0;const i=Va(r),s=Va(e);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const y=de(h.integerValue||h.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return jy(r.timestampValue,e.timestampValue);case 4:return jy(Xl(r),Xl(e));case 5:return Gf(r.stringValue,e.stringValue);case 6:return(function(h,d){const y=Na(h),v=Na(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const y=h.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Vt(y[_],v[_]);if(A!==0)return A}return Vt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const y=Vt(de(h.latitude),de(d.latitude));return y!==0?y:Vt(de(h.longitude),de(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return By(r.arrayValue,e.arrayValue);case 10:return(function(h,d){var x,H,tt,Z;const y=h.fields||{},v=d.fields||{},_=(x=y[nc])==null?void 0:x.arrayValue,A=(H=v[nc])==null?void 0:H.arrayValue,b=Vt(((tt=_==null?void 0:_.values)==null?void 0:tt.length)||0,((Z=A==null?void 0:A.values)==null?void 0:Z.length)||0);return b!==0?b:By(_,A)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Lu.mapValue&&d===Lu.mapValue)return 0;if(h===Lu.mapValue)return 1;if(d===Lu.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const x=Gf(v[b],A[b]);if(x!==0)return x;const H=vr(y[v[b]],_[A[b]]);if(H!==0)return H}return Vt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function jy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=xa(r),s=xa(e),o=Vt(i.seconds,s.seconds);return o!==0?o:Vt(i.nanos,s.nanos)}function By(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=vr(i[o],s[o]);if(h)return h}return Vt(i.length,s.length)}function Er(r){return Qf(r)}function Qf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=xa(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Na(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=Qf(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${Qf(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Hu(r){switch(Va(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mc(r);return e?16+Hu(e):16;case 5:return 2*r.stringValue.length;case 6:return Na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Hu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((h,d)=>{o+=h.length+Hu(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function Yf(r){return!!r&&"integerValue"in r}function md(r){return!!r&&"arrayValue"in r}function ky(r){return!!r&&"nullValue"in r}function Py(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gu(r){return!!r&&"mapValue"in r}function E2(r){var i,s;return((s=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[$0])==null?void 0:s.stringValue)===W0}function Bl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Bl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bl(r.arrayValue.values[i]);return e}return{...r}}function T2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===v2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Gu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=y.popLast()}d?s[y.lastSegment()]=Bl(d):o.push(y.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Gu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){ys(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new Nn(Bl(this.value))}}function t_(r){const e=[];return ys(r.fields,((i,s)=>{const o=new Ge([i]);if(Gu(s)){const h=t_(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Ke(e,0,_t.min(),_t.min(),_t.min(),Nn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,_t.min(),_t.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,_t.min(),_t.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i){this.position=e,this.inclusive=i}}function qy(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=mt.comparator(mt.fromName(d.referenceValue),i.key):s=vr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!_i(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i="asc"){this.field=e,this.dir=i}}function A2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{}class Ne extends e_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new b2(e,i,s):i==="array-contains"?new C2(e,s):i==="in"?new D2(e,s):i==="not-in"?new x2(e,s):i==="array-contains-any"?new N2(e,s):new Ne(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new R2(e,s):new w2(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vr(i,this.value)):i!==null&&Va(this.value)===Va(i)&&this.matchesComparison(vr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends e_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new vi(e,i)}matches(e){return n_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function n_(r){return r.op==="and"}function i_(r){return S2(r)&&n_(r)}function S2(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function Ff(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Er(r.value);if(i_(r))return r.filters.map((e=>Ff(e))).join(",");{const e=r.filters.map((i=>Ff(i))).join(",");return`${r.op}(${e})`}}function a_(r,e){return r instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)})(r,e):r instanceof vi?(function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,y)=>h&&a_(d,o.filters[y])),!0):!1})(r,e):void pt(19439)}function s_(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Er(i.value)}`})(r):r instanceof vi?(function(i){return i.op.toString()+" {"+i.getFilters().map(s_).join(" ,")+"}"})(r):"Filter"}class b2 extends Ne{constructor(e,i,s){super(e,i,s),this.key=mt.fromName(s.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class R2 extends Ne{constructor(e,i){super(e,"in",i),this.keys=r_("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class w2 extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=r_("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function r_(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map((s=>mt.fromName(s.referenceValue)))}class C2 extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return md(i)&&Zl(i.arrayValue,this.value)}}class D2 extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Zl(this.value.arrayValue,i)}}class x2 extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Zl(this.value.arrayValue,i)}}class N2 extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!md(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Zl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,i=null,s=[],o=[],h=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=y,this.Te=null}}function Gy(r,e=null,i=[],s=[],o=null,h=null,d=null){return new V2(r,e,i,s,o,h,d)}function gd(r){const e=Tt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Ff(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),dc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Er(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Er(s))).join(",")),e.Te=i}return e.Te}function pd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!A2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!a_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Hy(r.startAt,e.startAt)&&Hy(r.endAt,e.endAt)}function Xf(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i=null,s=[],o=[],h=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O2(r,e,i,s,o,h,d,y){return new gc(r,e,i,s,o,h,d,y)}function yd(r){return new gc(r)}function Qy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function I2(r){return r.collectionGroup!==null}function kl(r){const e=Tt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ve(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ac(h,s))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new ac(Ge.keyField(),s))}return e.Ie}function mi(r){const e=Tt(r);return e.Ee||(e.Ee=M2(e,kl(r))),e.Ee}function M2(r,e){if(r.limitType==="F")return Gy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ac(o.field,h)}));const i=r.endAt?new ic(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ic(r.startAt.position,r.startAt.inclusive):null;return Gy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Kf(r,e,i){return new gc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function pc(r,e){return pd(mi(r),mi(e))&&r.limitType===e.limitType}function l_(r){return`${gd(mi(r))}|lt:${r.limitType}`}function fr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>s_(o))).join(", ")}]`),dc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Er(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Er(o))).join(",")),`Target(${s})`})(mi(r))}; limitType=${r.limitType})`}function yc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):mt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,y,v){const _=qy(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,kl(s),o)||s.endAt&&!(function(d,y,v){const _=qy(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,kl(s),o))})(r,e)}function z2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function o_(r){return(e,i)=>{let s=!1;for(const o of kl(r)){const h=U2(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function U2(r,e,i){const s=r.field.isKeyField()?mt.comparator(e.key,i.key):(function(h,d,y){const v=d.data.field(h),_=y.data.field(h);return v!==null&&_!==null?vr(v,_):pt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return Y0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new re(mt.comparator);function qi(){return L2}const u_=new re(mt.comparator);function zl(...r){let e=u_;for(const i of r)e=e.insert(i.key,i);return e}function c_(r){let e=u_;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function fs(){return Pl()}function h_(){return Pl()}function Pl(){return new _s((r=>r.toString()),((r,e)=>r.isEqual(e)))}const j2=new re(mt.comparator),B2=new Ve(mt.comparator);function Ot(...r){let e=B2;for(const i of r)e=e.add(i);return e}const k2=new Ve(Vt);function P2(){return k2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function f_(r){return{integerValue:""+r}}function q2(r,e){return m2(e)?f_(e):_d(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this._=void 0}}function H2(r,e,i){return r instanceof sc?(function(o,h){const d={fields:{[K0]:{stringValue:X0},[J0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&dd(h)&&(h=mc(h)),h&&(d.fields[Z0]=h),{mapValue:d}})(i,e):r instanceof Jl?m_(r,e):r instanceof $l?g_(r,e):(function(o,h){const d=d_(o,h),y=Yy(d)+Yy(o.Ae);return Yf(d)&&Yf(o.Ae)?f_(y):_d(o.serializer,y)})(r,e)}function G2(r,e,i){return r instanceof Jl?m_(r,e):r instanceof $l?g_(r,e):i}function d_(r,e){return r instanceof rc?(function(s){return Yf(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class sc extends _c{}class Jl extends _c{constructor(e){super(),this.elements=e}}function m_(r,e){const i=p_(e);for(const s of r.elements)i.some((o=>_i(o,s)))||i.push(s);return{arrayValue:{values:i}}}class $l extends _c{constructor(e){super(),this.elements=e}}function g_(r,e){let i=p_(e);for(const s of r.elements)i=i.filter((o=>!_i(o,s)));return{arrayValue:{values:i}}}class rc extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yy(r){return de(r.integerValue||r.doubleValue)}function p_(r){return md(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Q2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof $l&&o instanceof $l?_r(s.elements,o.elements,_i):s instanceof rc&&o instanceof rc?_i(s.Ae,o.Ae):s instanceof sc&&o instanceof sc})(r.transform,e.transform)}class Y2{constructor(e,i){this.version=e,this.transformResults=i}}class Bi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bi}static exists(e){return new Bi(void 0,e)}static updateTime(e){return new Bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class vc{}function y_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new v_(r.key,Bi.none()):new eo(r.key,r.data,Bi.none());{const i=r.data,s=Nn.empty();let o=new Ve(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new vs(r.key,s,new Gn(o.toArray()),Bi.none())}}function F2(r,e,i){r instanceof eo?(function(o,h,d){const y=o.value.clone(),v=Xy(o.fieldTransforms,h,d.transformResults);y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof vs?(function(o,h,d){if(!Qu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const y=Xy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(__(o)),v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ql(r,e,i,s){return r instanceof eo?(function(h,d,y,v){if(!Qu(h.precondition,d))return y;const _=h.value.clone(),A=Ky(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof vs?(function(h,d,y,v){if(!Qu(h.precondition,d))return y;const _=Ky(h.fieldTransforms,v,d),A=d.data;return A.setAll(__(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(h,d,y){return Qu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function X2(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=d_(s.transform,o||null);h!=null&&(i===null&&(i=Nn.empty()),i.set(s.field,h))}return i||null}function Fy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_r(s,o,((h,d)=>Q2(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eo extends vc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends vc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function __(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function Xy(r,e,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,y=e.data.field(h.field);s.set(h.field,G2(d,y,i[o]))}return s}function Ky(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,H2(h,d,e))}return s}class v_ extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K2 extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&F2(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ql(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ql(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=h_();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let y=this.applyToLocalView(d,h.mutatedFields);y=i.has(o.key)?null:y;const v=y_(d,y);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ot())}isEqual(e){return this.batchId===e.batchId&&_r(this.mutations,e.mutations,((i,s)=>Fy(i,s)))&&_r(this.baseMutations,e.baseMutations,((i,s)=>Fy(i,s)))}}class vd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){qt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return j2})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new vd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,zt;function W2(r){switch(r){case $.OK:return pt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function E_(r){if(r===void 0)return Pi("GRPC error has no .code"),$.UNKNOWN;switch(r){case Se.OK:return $.OK;case Se.CANCELLED:return $.CANCELLED;case Se.UNKNOWN:return $.UNKNOWN;case Se.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Se.INTERNAL:return $.INTERNAL;case Se.UNAVAILABLE:return $.UNAVAILABLE;case Se.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Se.NOT_FOUND:return $.NOT_FOUND;case Se.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Se.ABORTED:return $.ABORTED;case Se.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Se.DATA_LOSS:return $.DATA_LOSS;default:return pt(39323,{code:r})}}(zt=Se||(Se={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new wa([4294967295,4294967295],0);function Zy(r){const e=tA().encode(r),i=new U0;return i.update(e),new Uint8Array(i.digest())}function Jy(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new wa([i,s],0),new wa([o,h],0)]}class Ed{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=wa.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(wa.fromNumber(s)));return o.compare(eA)===1&&(o=new wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Zy(e),[s,o]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ed(h,o,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=Zy(e),[s,o]=Jy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,no.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ec(_t.min(),o,new re(Vt),qi(),Ot())}}class no{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new no(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class T_{constructor(e,i){this.targetId=e,this.Ce=i}}class A_{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class $y{constructor(){this.ve=0,this.Fe=Wy(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:h})}})),new no(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=Wy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nA{constructor(e){this.Ge=e,this.ze=new Map,this.je=qi(),this.Je=ju(),this.He=ju(),this.Ye=new re(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Xf(h))if(s===0){const d=new mt(h.path);this.et(i,d,Ke.newNoDocument(d,_t.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,y;try{d=Na(s).toUint8Array()}catch(v){if(v instanceof F0)return yr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Ed(d,o,h)}catch(v){return yr(v instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(y)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const y=this.ot(d);if(y){if(h.current&&Xf(y.target)){const v=new mt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Ot();this.He.forEach(((h,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Ec(e,i,this.Ye,this.je,s);return this.je=qi(),this.Je=ju(),this.He=ju(),this.Ye=new re(Vt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $y,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ve(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ve(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $y),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ju(){return new re(mt.comparator)}function Wy(){return new re(mt.comparator)}const iA={asc:"ASCENDING",desc:"DESCENDING"},aA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sA={and:"AND",or:"OR"};class rA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Zf(r,e){return r.useProto3Json||dc(e)?e:{value:e}}function lc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S_(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function lA(r,e){return lc(r,e.toTimestamp())}function gi(r){return qt(!!r,49232),_t.fromTimestamp((function(i){const s=xa(i);return new te(s.seconds,s.nanos)})(r))}function Td(r,e){return Jf(r,e).canonicalString()}function Jf(r,e){const i=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function b_(r){const e=se.fromString(r);return qt(x_(e),10190,{key:e.toString()}),e}function $f(r,e){return Td(r.databaseId,e.path)}function Mf(r,e){const i=b_(e);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(w_(i))}function R_(r,e){return Td(r.databaseId,e)}function oA(r){const e=b_(r);return e.length===4?se.emptyPath():w_(e)}function Wf(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function w_(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function t0(r,e,i){return{name:$f(r,e),fields:i.value.mapValue.fields}}function uA(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?$.UNKNOWN:E_(_.code);return new ut(A,_.message||"")})(d);i=new A_(s,o,h,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mf(r,s.document.name),h=gi(s.document.updateTime),d=s.document.createTime?gi(s.document.createTime):_t.min(),y=new Nn({mapValue:{fields:s.document.fields}}),v=Ke.newFoundDocument(o,h,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Yu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mf(r,s.document),h=s.readTime?gi(s.readTime):_t.min(),d=Ke.newNoDocument(o,h),y=s.removedTargetIds||[];i=new Yu([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mf(r,s.document),h=s.removedTargetIds||[];i=new Yu([],h,o,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new $2(o,h),y=s.targetId;i=new T_(y,d)}}return i}function cA(r,e){let i;if(e instanceof eo)i={update:t0(r,e.key,e.value)};else if(e instanceof v_)i={delete:$f(r,e.key)};else if(e instanceof vs)i={update:t0(r,e.key,e.data),updateMask:vA(e.fieldMask)};else{if(!(e instanceof K2))return pt(16599,{Vt:e.type});i={verify:$f(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const y=d.transform;if(y instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Jl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof $l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof rc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw pt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:lA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)})(r,e.precondition)),i}function hA(r,e){return r&&r.length>0?(qt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?gi(o.updateTime):gi(h);return d.isEqual(_t.min())&&(d=gi(h)),new Y2(d,o.transformResults||[])})(i,e)))):[]}function fA(r,e){return{documents:[R_(r,e.path)]}}function dA(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=R_(r,o);const h=(function(_){if(_.length!==0)return D_(vi.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(x){return{field:dr(x.field),direction:pA(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Zf(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function mA(r){let e=oA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){qt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(b){const x=C_(b);return x instanceof vi&&i_(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(tt){return new ac(mr(tt.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(x)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let x;return x=typeof b=="object"?b.value:b,dc(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(b){const x=!!b.before,H=b.values||[];return new ic(H,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const x=!b.before,H=b.values||[];return new ic(H,x)})(i.endAt)),O2(e,o,d,h,y,"F",v,_)}function gA(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function C_(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=mr(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mr(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=mr(i.unaryFilter.field);return Ne.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=mr(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(mr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return vi.create(i.compositeFilter.filters.map((s=>C_(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function pA(r){return iA[r]}function yA(r){return aA[r]}function _A(r){return sA[r]}function dr(r){return{fieldPath:r.canonicalString()}}function mr(r){return Ge.fromServerFormat(r.fieldPath)}function D_(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(Py(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NAN"}};if(ky(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Py(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NAN"}};if(ky(i.value))return{unaryFilter:{field:dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dr(i.field),op:yA(i.op),value:i.value}}})(r):r instanceof vi?(function(i){const s=i.getFilters().map((o=>D_(o)));return s.length===1?s[0]:{compositeFilter:{op:_A(i.op),filters:s}}})(r):pt(54877,{filter:r})}function vA(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function x_(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i,s,o,h=_t.min(),d=_t.min(),y=Qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.yt=e}}function TA(r){const e=mA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.Cn=new SA}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Da.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class SA{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ve(se.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ve(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},N_=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(N_,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tr(0)}static cr(){return new Tr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",bA=1048576;function i0([r,e],[i,s]){const o=Vt(r,i);return o===0?Vt(e,s):o}class RA{constructor(e){this.Ir=e,this.buffer=new Ve(i0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();i0(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wA{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(n0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wr(i)?it(n0,"Ignoring IndexedDB error during garbage collection: ",i):await Rr(i)}await this.Vr(3e5)}))}}class CA{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(fc.ce);const s=new RA(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(e0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),hr()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function DA(r,e){return new CA(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.changes=new _s((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&ql(s.mutation,o,Gn.empty(),te.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Ot()){const o=fs();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=zl();return h.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=fs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Ot())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,o){let h=qi();const d=Pl(),y=(function(){return Pl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof vs)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),ql(A.mutation,_,A.mutation.getFieldMask(),te.now())):d.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new NA(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Pl();let o=new re(((d,y)=>d-y)),h=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Gn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(o.get(y.batchId)||Ot()).add(v);o=o.insert(y.batchId,b)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=h_();A.forEach((x=>{if(!h.has(x)){const H=y_(i.get(x),s.get(x));H!==null&&b.set(x,H),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):I2(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):K.resolve(fs());let y=Fl,v=h;return d.next((_=>K.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,Ot()))).next((A=>({batchId:y,changes:c_(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next((s=>{let o=zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=zl();return this.indexManager.getCollectionParents(e,h).next((y=>K.forEach(y,(v=>{const _=(function(b,x){return new gc(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))}));let y=zl();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&ql(A.mutation,_,Gn.empty(),te.now()),yc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:TA(o.bundledQuery),readTime:gi(o.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.overlays=new re(mt.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fs();return K.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),K.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const o=fs(),h=i.length+1,d=new mt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return K.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=fs(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=fs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=o)););return K.resolve(y)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new J2(i,s));let h=this.qr.get(i);h===void 0&&(h=Ot(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this.Qr=new Ve(ze.$r),this.Ur=new Ve(ze.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new ze(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new ze(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new mt(new se([])),s=new ze(i,e),o=new ze(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new se([])),s=new ze(i,e),o=new ze(i,e+1);let h=Ot();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new ze(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class ze{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(ze.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Z2(h,i,s,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new ze(y.key,h)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?fd:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const y=this.Xr(d.Yr);h.push(y)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ve(Vt);return i.forEach((o=>{const h=new ze(o,0),d=new ze(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(y=>{s=s.add(y.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;mt.isDocumentKey(h)||(h=h.child(""));const d=new ze(new mt(h),0);let y=new Ve(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,(o=>{const h=new ze(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new ze(i,0),o=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.ri=e,this.docs=(function(){return new re(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=qi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))})),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=qi();const d=i.path,y=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||c2(u2(A),s)<=0||(o.has(A.key)||yc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}ii(e,i){return K.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new LA(this)}getSize(e){return K.resolve(this.size)}}class LA extends xA{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.persistence=e,this.si=new _s((i=>gd(i)),pd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Ad,this.targetCount=0,this.ai=Tr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Tr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,y.targetId)),o++)})),K.waitFor(h).next((()=>o))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,i){this.ui={},this.overlays={},this.ci=new fc(0),this.li=!1,this.li=!0,this.hi=new MA,this.referenceDelegate=e(this),this.Pi=new jA(this),this.indexManager=new AA,this.remoteDocumentCache=(function(o){return new UA(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new EA(i),this.Ii=new OA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new IA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new zA(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new BA(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class BA extends f2{constructor(e){super(),this.currentSequenceNumber=e}}class Sd{constructor(e){this.persistence=e,this.Ri=new Ad,this.Vi=null}static mi(e){return new Sd(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const o=mt.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new _s((s=>g2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=DA(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?K.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hu(e.data.value)),i}br(e,i,s){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ot(),o=Ot();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new bd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NE()?8:d2(DE())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new kA;return this.Ss(e,i,d).next((y=>{if(h.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(hr()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",fr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(hr()<=Ut.DEBUG&&it("QueryEngine","Query:",fr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(hr()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",fr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(i))):K.resolve())}ys(e,i){if(Qy(i))return K.resolve(null);let s=mi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Kf(i,null,"F"),s=mi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Ot(...h);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Kf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,o){return Qy(i)||o.isEqual(_t.min())?K.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?K.resolve(null):(hr()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),fr(i)),this.vs(e,d,i,o2(o,Fl)).next((y=>y)))}))}Ds(e,i){let s=new Ve(o_(e));return i.forEach(((o,h)=>{yc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return hr()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",fr(i)),this.ps.getDocumentsMatchingQuery(e,i,Da.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="LocalStore",qA=3e8;class HA{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new re(Vt),this.xs=new _s((h=>gd(h)),pd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VA(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function GA(r,e,i,s){return new HA(r,e,i,s)}async function O_(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],y=[];let v=Ot();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function QA(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,x=b.keys();let H=K.resolve();return x.forEach((tt=>{H=H.next((()=>A.getEntry(v,tt))).next((Z=>{const J=_.docVersions.get(tt);qt(J!==null,48541),Z.version.compareTo(J)<0&&(b.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),A.addEntry(Z)))}))})),H.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Ot();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function I_(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function YA(r,e){const i=Tt(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const x=o.get(b);if(!x)return;y.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,b))));let H=x.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,s)),o=o.insert(b,H),(function(Z,J,ft){return Z.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=qA?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(x,H,A)&&y.push(i.Pi.updateTargetData(h,H))}));let v=qi(),_=Ot();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),y.push(FA(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));y.push(A)}return K.waitFor(y).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function FA(r,e,i){let s=Ot(),o=Ot();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=qi();return i.forEach(((y,v)=>{const _=h.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(y)),v.isNoDocument()&&v.version.isEqual(_t.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(Rd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function XA(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function KA(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,K.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Sa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function td(r,e,i){const s=Tt(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!wr(d))throw d;it(Rd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function a0(r,e,i){const s=Tt(r);let o=_t.min(),h=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=Tt(v),x=b.xs.get(A);return x!==void 0?K.resolve(b.Ms.get(x)):b.Pi.getTargetData(_,A)})(s,d,mi(e)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{h=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:Ot()))).next((y=>(ZA(s,z2(e),y),{documents:y,Qs:h})))))}function ZA(r,e,i){let s=r.Os.get(e)||_t.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class s0{constructor(){this.activeTargetIds=P2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JA{constructor(){this.Mo=new s0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s0,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class l0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(r0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function ed(){return Bu===null?Bu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",WA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ec?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=ed(),y=this.zo(e,i.toUriEncodedString());it(zf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(y),A=ld(_);return this.Jo(e,y,v,s,A).then((b=>(it(zf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw yr(zf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+br})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=WA[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class nS extends tS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=ed();return new Promise(((y,v)=>{const _=new L0;_.setWithCredentials(!0),_.listenOnce(j0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qu.NO_ERROR:const b=_.getResponseJson();it(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case qu.TIMEOUT:it(Fe,`RPC '${e}' ${d} timed out`),v(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const x=_.getStatus();if(it(Fe,`RPC '${e}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const tt=H==null?void 0:H.error;if(tt&&tt.status&&tt.message){const Z=(function(ft){const ot=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(ot)>=0?ot:$.UNKNOWN})(tt.status);v(new ut(Z,tt.message))}else v(new ut($.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ut($.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);it(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const o=ed(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=P0(),y=k0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");it(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let x=!1,H=!1;const tt=new eS({Yo:J=>{H?it(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(x||(it(Fe,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),it(Fe,`RPC '${e}' stream ${o} sending:`,J),b.send(J))},Zo:()=>b.close()}),Z=(J,ft,ot)=>{J.listen(ft,(rt=>{try{ot(rt)}catch(vt){setTimeout((()=>{throw vt}),0)}}))};return Z(b,Ml.EventType.OPEN,(()=>{H||(it(Fe,`RPC '${e}' stream ${o} transport opened.`),tt.o_())})),Z(b,Ml.EventType.CLOSE,(()=>{H||(H=!0,it(Fe,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(b))})),Z(b,Ml.EventType.ERROR,(J=>{H||(H=!0,yr(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),tt.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),Z(b,Ml.EventType.MESSAGE,(J=>{var ft;if(!H){const ot=J.data[0];qt(!!ot,16349);const rt=ot,vt=(rt==null?void 0:rt.error)||((ft=rt[0])==null?void 0:ft.error);if(vt){it(Fe,`RPC '${e}' stream ${o} received error:`,vt);const dt=vt.status;let At=(function(C){const I=Se[C];if(I!==void 0)return E_(I)})(dt),D=vt.message;At===void 0&&(At=$.INTERNAL,D="Unknown error status: "+dt+" with message "+vt.message),H=!0,tt.a_(new ut(At,D)),b.close()}else it(Fe,`RPC '${e}' stream ${o} received:`,ot),tt.u_(ot)}})),Z(y,B0.STAT_EVENT,(J=>{J.stat===Hf.PROXY?it(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Hf.NOPROXY&&it(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(r){return new rA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="PersistentStream";class z_{constructor(e,i,s,o,h,d,y,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M_(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ut($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(o0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(o0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class iS extends z_{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=uA(this.serializer,e),s=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?gi(d.readTime):_t.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Wf(this.serializer),i.addTarget=(function(h,d){let y;const v=d.target;if(y=Xf(v)?{documents:fA(h,v)}:{query:dA(h,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=S_(h,d.resumeToken);const _=Zf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){y.readTime=lc(h,d.snapshotVersion.toTimestamp());const _=Zf(h,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=gA(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Wf(this.serializer),i.removeTarget=e,this.q_(i)}}class aS extends z_{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=hA(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Wf(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>cA(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{}class rS extends sS{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Jf(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut($.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,Jf(i,s),o,d,y,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class lS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="RemoteStore";class oS{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Es(this)&&(it(gs,"Restarting streams for network reachability change."),await(async function(v){const _=Tt(v);_.Ea.add(4),await io(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ac(_)})(this))}))})),this.Ra=new lS(s,o)}}async function Ac(r){if(Es(r))for(const e of r.da)await e(!0)}async function io(r){for(const e of r.da)await e(!1)}function U_(r,e){const i=Tt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),xd(i)?Dd(i):Cr(i).O_()&&Cd(i,e))}function wd(r,e){const i=Tt(r),s=Cr(i);i.Ia.delete(e),s.O_()&&L_(i,e),i.Ia.size===0&&(s.O_()?s.L_():Es(i)&&i.Ra.set("Unknown"))}function Cd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Cr(r).Y_(e)}function L_(r,e){r.Va.Ue(e),Cr(r).Z_(e)}function Dd(r){r.Va=new nA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Cr(r).start(),r.Ra.ua()}function xd(r){return Es(r)&&!Cr(r).x_()&&r.Ia.size>0}function Es(r){return Tt(r).Ea.size===0}function j_(r){r.Va=void 0}async function uS(r){r.Ra.set("Online")}async function cS(r){r.Ia.forEach(((e,i)=>{Cd(r,e)}))}async function hS(r,e){j_(r),xd(r)?(r.Ra.ha(e),Dd(r)):r.Ra.set("Unknown")}async function fS(r,e,i){if(r.Ra.set("Online"),e instanceof A_&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const y of h.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,e)}catch(s){it(gs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uc(r,s)}else if(e instanceof Yu?r.Va.Ze(e):e instanceof T_?r.Va.st(e):r.Va.tt(e),!i.isEqual(_t.min()))try{const s=await I_(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const y=h.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),L_(h,v);const b=new Sa(A.target,v,_,A.sequenceNumber);Cd(h,b)})),h.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){it(gs,"Failed to raise snapshot:",s),await uc(r,s)}}async function uc(r,e,i){if(!wr(e))throw e;r.Ea.add(1),await io(r),r.Ra.set("Offline"),i||(i=()=>I_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(gs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ac(r)}))}function B_(r,e){return e().catch((i=>uc(r,i,e)))}async function Sc(r){const e=Tt(r),i=Oa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fd;for(;dS(e);)try{const o=await XA(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,mS(e,o)}catch(o){await uc(e,o)}k_(e)&&P_(e)}function dS(r){return Es(r)&&r.Ta.length<10}function mS(r,e){r.Ta.push(e);const i=Oa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function k_(r){return Es(r)&&!Oa(r).x_()&&r.Ta.length>0}function P_(r){Oa(r).start()}async function gS(r){Oa(r).ra()}async function pS(r){const e=Oa(r);for(const i of r.Ta)e.ea(i.mutations)}async function yS(r,e,i){const s=r.Ta.shift(),o=vd.from(s,e,i);await B_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Sc(r)}async function _S(r,e){e&&Oa(r).X_&&await(async function(s,o){if((function(d){return W2(d)&&d!==$.ABORTED})(o.code)){const h=s.Ta.shift();Oa(s).B_(),await B_(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Sc(s)}})(r,e),k_(r)&&P_(r)}async function u0(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),it(gs,"RemoteStore received new credentials");const s=Es(i);i.Ea.add(3),await io(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function vS(r,e){const i=Tt(r);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await io(i),i.Ra.set("Unknown"))}function Cr(r){return r.ma||(r.ma=(function(i,s,o){const h=Tt(i);return h.sa(),new iS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:uS.bind(null,r),t_:cS.bind(null,r),r_:hS.bind(null,r),H_:fS.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),xd(r)?Dd(r):r.Ra.set("Unknown")):(await r.ma.stop(),j_(r))}))),r.ma}function Oa(r){return r.fa||(r.fa=(function(i,s,o){const h=Tt(i);return h.sa(),new aS(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:gS.bind(null,r),r_:_S.bind(null,r),ta:pS.bind(null,r),na:yS.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Sc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(gs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,y=new Nd(e,i,d,o,h);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vd(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),wr(r))return new ut($.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{static emptySet(e){return new pr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||mt.comparator(i.key,s.key):(i,s)=>mt.comparator(i.key,s.key),this.keyedMap=zl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new pr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.ga=new re(mt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Ar{constructor(e,i,s,o,h,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Ar(e,i,pr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TS{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Tt(i),h=o.queries;o.queries=h0(),h.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function h0(){return new _s((r=>l_(r)),pc)}async function AS(r,e){const i=Tt(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new ES,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Vd(d,`Initialization of query '${fr(e.query)}' failed`);return void e.onError(y)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Od(i)}async function SS(r,e){const i=Tt(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function bS(r,e){const i=Tt(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const y of d.Sa)y.Fa(o)&&(s=!0);d.wa=o}}s&&Od(i)}function RS(r,e,i){const s=Tt(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Od(r){r.Ca.forEach((e=>{e.next()}))}var nd,f0;(f0=nd||(nd={})).Ma="default",f0.Cache="cache";class wS{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ar(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ar.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e){this.key=e}}class H_{constructor(e){this.key=e}}class CS{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=o_(e),this.tu=new pr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new c0,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,b)=>{const x=o.get(A),H=yc(this.query,b)?b:null,tt=!!x&&this.mutatedKeys.has(x.key),Z=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let J=!1;x&&H?x.data.isEqual(H.data)?tt!==Z&&(s.track({type:3,doc:H}),J=!0):this.su(x,H)||(s.track({type:2,doc:H}),J=!0,(v&&this.eu(H,v)>0||_&&this.eu(H,_)<0)&&(y=!0)):!x&&H?(s.track({type:0,doc:H}),J=!0):x&&!H&&(s.track({type:1,doc:x}),J=!0,(v||_)&&(y=!0)),J&&(H?(d=d.add(H),h=Z?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(H,tt){const Z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return Z(H)-Z(tt)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),o=o??!1;const y=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ar(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new H_(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new q_(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ar.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Id="SyncEngine";class DS{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class xS{constructor(e){this.key=e,this.hu=!1}}class NS{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new _s((y=>l_(y)),pc),this.Iu=new Map,this.Eu=new Set,this.du=new re(mt.comparator),this.Au=new Map,this.Ru=new Ad,this.Vu={},this.mu=new Map,this.fu=Tr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function VS(r,e,i=!0){const s=K_(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await G_(s,e,i,!0),o}async function OS(r,e){const i=K_(r);await G_(i,e,!0,!1)}async function G_(r,e,i,s){const o=await KA(r.localStore,mi(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let y;return s&&(y=await IS(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&U_(r.remoteStore,o),y}async function IS(r,e,i,s,o){r.pu=(b,x,H)=>(async function(Z,J,ft,ot){let rt=J.view.ru(ft);rt.Cs&&(rt=await a0(Z.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,rt))));const vt=ot&&ot.targetChanges.get(J.targetId),dt=ot&&ot.targetMismatches.get(J.targetId)!=null,At=J.view.applyChanges(rt,Z.isPrimaryClient,vt,dt);return m0(Z,J.targetId,At.au),At.snapshot})(r,b,x,H);const h=await a0(r.localStore,e,!0),d=new CS(e,h.Qs),y=d.ru(h.documents),v=no.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),_=d.applyChanges(y,r.isPrimaryClient,v);m0(r,i,_.au);const A=new DS(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function MS(r,e,i){const s=Tt(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!pc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await td(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&wd(s.remoteStore,o.targetId),id(s,o.targetId)})).catch(Rr)):(id(s,o.targetId),await td(s.localStore,o.targetId,!0))}async function zS(r,e){const i=Tt(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),wd(i.remoteStore,s.targetId))}async function US(r,e,i){const s=HS(r);try{const o=await(function(d,y){const v=Tt(d),_=te.now(),A=y.reduce(((H,tt)=>H.add(tt.key)),Ot());let b,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let tt=qi(),Z=Ot();return v.Ns.getEntries(H,A).next((J=>{tt=J,tt.forEach(((ft,ot)=>{ot.isValidDocument()||(Z=Z.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(H,tt))).next((J=>{b=J;const ft=[];for(const ot of y){const rt=X2(ot,b.get(ot.key).overlayedDocument);rt!=null&&ft.push(new vs(ot.key,rt,t_(rt.value.mapValue),Bi.exists(!0)))}return v.mutationQueue.addMutationBatch(H,_,ft,y)})).next((J=>{x=J;const ft=J.applyToLocalDocumentSet(b,Z);return v.documentOverlayCache.saveOverlays(H,J.batchId,ft)}))})).then((()=>({batchId:x.batchId,changes:c_(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Vt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,o.batchId,i),await ao(s,o.changes),await Sc(s.remoteStore)}catch(o){const h=Vd(o,"Failed to persist write");i.reject(h)}}async function Q_(r,e){const i=Tt(r);try{const s=await YA(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?qt(d.hu,14607):o.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await ao(i,s,e)}catch(s){await Rr(s)}}function d0(r,e,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const y=d.view.va(e);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const v=Tt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(y)&&(_=!0)})),_&&Od(v)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function LS(r,e,i){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new re(mt.comparator);d=d.insert(h,Ke.newNoDocument(h,_t.min()));const y=Ot().add(h),v=new Ec(_t.min(),new Map,new re(Vt),d,y);await Q_(s,v),s.du=s.du.remove(h),s.Au.delete(e),Md(s)}else await td(s.localStore,e,!1).then((()=>id(s,e,i))).catch(Rr)}async function jS(r,e){const i=Tt(r),s=e.batch.batchId;try{const o=await QA(i.localStore,e);F_(i,s,null),Y_(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ao(i,o)}catch(o){await Rr(o)}}async function BS(r,e,i){const s=Tt(r);try{const o=await(function(d,y){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(qt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);F_(s,e,i),Y_(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ao(s,o)}catch(o){await Rr(o)}}function Y_(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function F_(r,e,i){const s=Tt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function id(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||X_(r,s)}))}function X_(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(wd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Md(r))}function m0(r,e,i){for(const s of i)s instanceof q_?(r.Ru.addReference(s.key,e),kS(r,s)):s instanceof H_?(it(Id,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||X_(r,s.key)):pt(19791,{wu:s})}function kS(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(Id,"New document in limbo: "+i),r.Eu.add(s),Md(r))}function Md(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(se.fromString(e)),s=r.fu.next();r.Au.set(s,new xS(i)),r.du=r.du.insert(i,s),U_(r.remoteStore,new Sa(mi(yd(i.path)),s,"TargetPurposeLimboResolution",fc.ce))}}async function ao(r,e,i){const s=Tt(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{var A;if((_||i)&&s.isPrimaryClient){const b=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(_){o.push(_);const b=bd.As(v.targetId,_);h.push(b)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(v,_){const A=Tt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(_,(x=>K.forEach(x.Es,(H=>A.persistence.referenceDelegate.addReference(b,x.targetId,H))).next((()=>K.forEach(x.ds,(H=>A.persistence.referenceDelegate.removeReference(b,x.targetId,H)))))))))}catch(b){if(!wr(b))throw b;it(Rd,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const H=A.Ms.get(x),tt=H.snapshotVersion,Z=H.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(x,Z)}}})(s.localStore,h))}async function PS(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){it(Id,"User change. New user:",e.toKey());const s=await O_(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((y=>{y.forEach((v=>{v.reject(new ut($.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ao(i,s.Ls)}}function qS(r,e){const i=Tt(r),s=i.Au.get(e);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function K_(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Q_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LS.bind(null,e),e.Pu.H_=bS.bind(null,e.eventManager),e.Pu.yu=RS.bind(null,e.eventManager),e}function HS(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BS.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return GA(this.persistence,new PA,e.initialUser,this.serializer)}Cu(e){return new V_(Sd.mi,this.serializer)}Du(e){return new JA}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class GS extends cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){qt(this.persistence.referenceDelegate instanceof oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new wA(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new V_((s=>oc.mi(s,i)),this.serializer)}}class ad{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PS.bind(null,this.syncEngine),await vS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TS})()}createDatastore(e){const i=Tc(e.databaseInfo.databaseId),s=(function(h){return new nS(h)})(e.databaseInfo);return(function(h,d,y,v){return new rS(h,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,y){return new oS(s,o,h,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>d0(this.syncEngine,i,0)),(function(){return l0.v()?new l0:new $A})())}createSyncEngine(e,i){return(function(o,h,d,y,v,_,A){const b=new NS(o,h,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await(async function(o){const h=Tt(o);it(gs,"RemoteStore shutting down."),h.Ea.add(5),await io(h),h.Aa.shutdown(),h.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}ad.provider={build:()=>new ad};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="FirestoreClient";class YS{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Xe.UNAUTHENTICATED,this.clientId=cd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{it(Ia,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(Ia,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Vd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lf(r,e){r.asyncQueue.verifyOperationInProgress(),it(Ia,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await O_(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function g0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await FS(r);it(Ia,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>u0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>u0(e.remoteStore,o))),r._onlineComponents=e}async function FS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Ia,"Using user provided OfflineComponentProvider");try{await Lf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;yr("Error using user provided cache. Falling back to memory cache: "+i),await Lf(r,new cc)}}else it(Ia,"Using default OfflineComponentProvider"),await Lf(r,new GS(void 0));return r._offlineComponents}async function Z_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Ia,"Using user provided OnlineComponentProvider"),await g0(r,r._uninitializedComponentsProvider._online)):(it(Ia,"Using default OnlineComponentProvider"),await g0(r,new ad))),r._onlineComponents}function XS(r){return Z_(r).then((e=>e.syncEngine))}async function KS(r){const e=await Z_(r),i=e.eventManager;return i.onListen=VS.bind(null,e.syncEngine),i.onUnlisten=MS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=OS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zS.bind(null,e.syncEngine),i}function ZS(r,e,i={}){const s=new Ca;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,y,v,_){const A=new QS({next:x=>{A.Nu(),d.enqueueAndForget((()=>SS(h,b)));const H=x.docs.has(y);!H&&x.fromCache?_.reject(new ut($.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&x.fromCache&&v&&v.source==="server"?_.reject(new ut($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new wS(yd(y.path),A,{includeMetadataChanges:!0,qa:!0});return AS(h,b)})(await KS(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="firestore.googleapis.com",y0=!0;class _0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$_,this.ssl=y0}else this.host=e.host,this.ssl=e.ssl??y0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=N_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bA)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=J_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ZT;switch(s.type){case"firstParty":return new t2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=p0.get(i);s&&(it("ComponentProvider","Removing Datastore"),p0.delete(i),s.terminate())})(this),Promise.resolve()}}function JS(r,e,i,s={}){var _;r=Yl(r,zd);const o=ld(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;o&&(SE(`https://${y}`),CE("Firestore",!0)),h.host!==$_&&h.host!==y&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:y,ssl:o,emulatorOptions:s};if(!Zu(v,d)&&(r._setSettings(v),s.mockUserToken)){let A,b;if(typeof s.mockUserToken=="string")A=s.mockUserToken,b=Xe.MOCK_USER;else{A=bE(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xe(x)}r._authCredentials=new JT(new H0(A,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ud(this.firestore,e,this._query)}}class Ue{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ue(this.firestore,e,this._key)}toJSON(){return{type:Ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(to(i,Ue._jsonSchema))return new Ue(e,s||null,new mt(se.fromString(i.referencePath)))}}Ue._jsonSchemaVersion="firestore/documentReference/1.0",Ue._jsonSchema={type:be("string",Ue._jsonSchemaVersion),referencePath:be("string")};class Wl extends Ud{constructor(e,i,s){super(e,i,yd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new mt(e))}withConverter(e){return new Wl(this.firestore,e,this._path)}}function W_(r,e,...i){if(r=Ju(r),arguments.length===1&&(e=cd.newId()),r2("doc","path",e),r instanceof zd){const s=se.fromString(e,...i);return Oy(s),new Ue(r,null,new mt(s))}{if(!(r instanceof Ue||r instanceof Wl))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(e,...i));return Oy(s),new Ue(r.firestore,r instanceof Wl?r.converter:null,new mt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="AsyncQueue";class E0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M_(this,"async_queue_retry"),this._c=()=>{const s=Uf();s&&it(v0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Uf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Uf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wr(e))throw e;it(v0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",T0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Nd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:T0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function T0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ld extends zd{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new E0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E0(e),this._firestoreClient=void 0,await e}}}function $S(r,e){const i=typeof r=="object"?r:LT(),s=typeof r=="string"?r:ec,o=OT(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=TE("firestore");h&&JS(o,...h)}return o}function tv(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WS(r),r._firestoreClient}function WS(r){var s,o,h;const e=r._freezeSettings(),i=(function(y,v,_,A){return new _2(y,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,J_(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new YS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Qe.fromBase64String(e))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(to(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:be("string",Vn._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(to(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:be("string",pi._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(to(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new yi(e.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:be("string",yi._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=/^__.*__$/;class eb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,i,this.fieldTransforms):new eo(e,this.data,i,this.fieldTransforms)}}function nv(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Bd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nv(this.Ac)&&tb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Tc(e)}Cc(e,i,s,o=!1){return new Bd({Ac:e,methodName:i,Dc:s,path:Ge.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ib(r){const e=r._freezeSettings(),i=Tc(r._databaseId);return new nb(r._databaseId,!!e.ignoreUndefinedProperties,i)}function ab(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);rv("Data must be an object, but it was:",d,s);const y=av(s,d);let v,_;if(h.merge)v=new Gn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const b of h.mergeFields){const x=sb(e,b,i);if(!d.contains(x))throw new ut($.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);lb(A,x)||A.push(x)}v=new Gn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new eb(new Nn(y),v,_)}function iv(r,e){if(sv(r=Ju(r)))return rv("Unsupported field value:",e,r),av(r,e);if(r instanceof ev)return(function(s,o){if(!nv(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const y of s){let v=iv(y,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=Ju(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:lc(o.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(s instanceof pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:S_(o.serializer,s._byteString)};if(s instanceof Ue){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Td(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yi)return(function(d,y){return{mapValue:{fields:{[$0]:{stringValue:W0},[nc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return _d(y.serializer,_)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${hd(s)}`)})(r,e)}function av(r,e){const i={};return Y0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,((s,o)=>{const h=iv(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function sv(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof pi||r instanceof Vn||r instanceof Ue||r instanceof ev||r instanceof yi)}function rv(r,e,i){if(!sv(i)||!G0(i)){const s=hd(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sb(r,e,i){if((e=Ju(e))instanceof jd)return e._internalPath;if(typeof e=="string")return lv(r,e);throw hc("Field path arguments must be of type string or ",r,!1,void 0,i)}const rb=new RegExp("[~\\*/\\[\\]]");function lv(r,e,i){if(e.search(rb)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new jd(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new ut($.INVALID_ARGUMENT,y+r+v)}function lb(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(uv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ob extends ov{data(){return super.data()}}function uv(r,e){return typeof e=="string"?lv(r,e):e instanceof jd?e._internalPath:e._delegate._internalPath}class ub{convertValue(e,i="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return ys(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[nc].arrayValue)==null?void 0:o.values)==null?void 0:h.map((d=>de(d.doubleValue)));return new yi(i)}convertGeoPoint(e){return new pi(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=mc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const i=xa(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=se.fromString(e);qt(x_(s),9688,{name:e});const o=new Kl(s.get(1),s.get(3)),h=new mt(s.popFirst(5));return o.isEqual(i)||Pi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Ll{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ds extends ov{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(uv("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ds._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",ds._jsonSchema={type:be("string",ds._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Fu extends ds{data(e={}){return super.data(e)}}class Hl{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Fu(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const v=new Fu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ll(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const v=new Fu(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Ll(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:hb(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function hb(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r){r=Yl(r,Ue);const e=Yl(r.firestore,Ld);return ZS(tv(e),r._key).then((i=>pb(e,r,i)))}Hl._jsonSchemaVersion="firestore/querySnapshot/1.0",Hl._jsonSchema={type:be("string",Hl._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class db extends ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,i)}}function mb(r,e,i){r=Yl(r,Ue);const s=Yl(r.firestore,Ld),o=cb(r.converter,e);return gb(s,[ab(ib(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Bi.none())])}function gb(r,e){return(function(s,o){const h=new Ca;return s.asyncQueue.enqueueAndForget((async()=>US(await XS(s),o,h))),h.promise})(tv(r),e)}function pb(r,e,i){const s=i.docs.get(e._key),o=new db(r);return new ds(r,o,e._key,s,new Ll(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){br=o})(UT),Wu(new Gl("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),y=new Ld(new $T(s.getProvider("auth-internal")),new e2(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),gr(Dy,xy,e),gr(Dy,xy,"esm2020")})();const yb={apiKey:"REPLACE_WITH_YOUR_API_KEY",authDomain:"REPLACE_WITH_YOUR_PROJECT_ID.firebaseapp.com",projectId:"REPLACE_WITH_YOUR_PROJECT_ID",storageBucket:"REPLACE_WITH_YOUR_PROJECT_ID.appspot.com",messagingSenderId:"REPLACE_WITH_YOUR_SENDER_ID",appId:"REPLACE_WITH_YOUR_APP_ID"},_b=I0(yb),cv=$S(_b),hv="savings_states",vb=()=>{const r="abcdefghjkmnpqrstuvwxyz23456789";let e="";for(let i=0;i<6;i++)e+=r.charAt(Math.floor(Math.random()*r.length));return e},A0=async(r,e)=>{try{const i=W_(cv,hv,r);await mb(i,{...e,_lastUpdated:new Date().toISOString()})}catch(i){throw console.error("Error saving to Firebase:",i),i}},Eb=async r=>{try{const e=W_(cv,hv,r),i=await fb(e);if(i.exists()){const s=i.data(),{_lastUpdated:o,...h}=s;return h}}catch(e){console.error("Error loading from Firebase:",e)}return null},ku="money_envelopes_state",S0="money_envelopes_settings",Tb=()=>{const[r,e]=xe.useState(null),[i,s]=xe.useState("en"),[o,h]=xe.useState(!1),[d,y]=xe.useState(null),[v,_]=xe.useState("saved"),A=xe.useMemo(()=>aE(async(Z,J)=>{console.log("Syncing to cloud..."),_("saving");try{await A0(Z,J),_("saved")}catch(ft){console.error("Save failed",ft),_("error")}},2e3),[]);xe.useEffect(()=>{(async()=>{const J=localStorage.getItem(S0);if(J)try{const rt=JSON.parse(J);rt.language&&s(rt.language)}catch(rt){console.error("Failed to parse settings",rt)}let ot=new URLSearchParams(window.location.search).get("id");if(ot){y(ot);try{const rt=Eb(ot),vt=new Promise(At=>setTimeout(()=>At(null),3e3)),dt=await Promise.race([rt,vt]);dt&&(dt.unlockedAchievements||(dt.unlockedAchievements=[]),dt.currency||(dt.currency="RUB"),e(dt))}catch(rt){console.error("Failed to load remote state",rt)}}else{ot=vb(),y(ot);const rt=`${window.location.pathname}?id=${ot}`;window.history.replaceState({},"",rt);const vt=localStorage.getItem(ku);if(vt)try{const dt=JSON.parse(vt);dt.unlockedAchievements||(dt.unlockedAchievements=[]),dt.currency||(dt.currency="RUB"),e(dt),A0(ot,dt)}catch(dt){console.error("Failed to parse saved state",dt),localStorage.removeItem(ku)}}h(!0)})().catch(J=>{console.error("Unhandled initialization error",J),h(!0)})},[]),xe.useEffect(()=>{o&&r&&(localStorage.setItem(ku,JSON.stringify(r)),d&&A(d,r))},[r,o,d,A]),xe.useEffect(()=>{o&&localStorage.setItem(S0,JSON.stringify({language:i}))},[i,o]);const b=(Z,J,ft,ot)=>{const rt=nE(Z,J,ft),vt={targetAmount:Z,days:J,currency:ot,startDate:new Date().toISOString(),envelopes:rt,isSetup:!0,unlockedAchievements:[]};e(vt)},x=Z=>{if(!r)return;let J=null;const ft=r.envelopes.map(dt=>dt.id===Z&&!dt.isOpen?(J={...dt,isOpen:!0,openedAt:new Date().toISOString()},J):dt);if(!J)return;const ot={...r,envelopes:ft},rt=rE(ot),vt=[...ot.unlockedAchievements,...rt];e({...ot,unlockedAchievements:vt})},H=()=>{localStorage.removeItem(ku),e(null)},tt=Z=>{r&&e({...r,currency:Z})};return o?!r||!r.isSetup?U.jsx(eE,{onStart:b,lang:i}):U.jsx(cE,{state:r,onOpenEnvelope:x,onReset:H,onUpdateCurrency:tt,lang:i,onLanguageChange:s,syncStatus:v}):null},fv=document.getElementById("root");if(!fv)throw new Error("Could not find root element to mount to");const Ab=tE.createRoot(fv);Ab.render(U.jsx(Y1.StrictMode,{children:U.jsx(Tb,{})}));
